#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass aghdpl
\begin_preamble
% \documentclass{aghdpl}               % przy kompilacji programem latex
% \documentclass[pdflatex,en]{aghdpl}  % praca w języku angielskim
% dodatkowe pakiety
\usepackage{enumerate}
\usepackage{listings}
% Numeracja po kolei rysunkow, tabel i wzorow
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}
%
\lstloadlanguages{TeX}
\usepackage{caption} 
\captionsetup[figure]{labelformat=simple, labelsep=period}
\captionsetup[table]{labelformat=simple, labelsep=period}
\captionsetup[algorithm]{labelformat=simple, labelsep=period}
%\captionsetup{font=small}
\captionsetup{margin=10pt, font={small}, labelfont=bf, format=hang}
\usepackage{esint}
\clubpenalty = 10000
\widowpenalty = 10000
%\usepackage{graphicx}
%\usepackage{grfext}
%\AtBeginDocument{%
% \PrependGraphicsExtensions*{
%    .mps,.MPS,.pdf,.PDF,.eps,.EPS,.ps,.PS,
%    .png,.PNG,.jpg,.jpeg,.JPG,.JPEG,
%    .funny,.foobar
%  }%
%  \PrintGraphicsExtensions % see .log file
%}
% \usepackage[style=numeric-comp]{biblatex}
% \setlength{\itemsep}{-1\parsep}
%---------------------------------------------------------------------------
%\usepackage{epstopdf}
\end_preamble
\options pdflatex
\use_default_options true
\maintain_unincluded_children false
\language polish
\language_package default
\inputencoding iso8859-2
\fontencoding global
\font_roman "utopia" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics none
\default_output_format default
\output_sync 0
\bibtex_command bibtex
\index_command default
\float_placement H
\paperfontsize 12
\spacing onehalf
\use_hyperref true
\pdf_title "dyplom"
\pdf_author "Imie Nazwisko"
\pdf_subject "Temat"
\pdf_keywords "słowa kluczowe"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 2
\pdf_breaklinks true
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry false
\use_package amsmath 0
\use_package amssymb 0
\use_package cancel 1
\use_package esint 0
\use_package mathdots 0
\use_package mathtools 1
\use_package mhchem 0
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style bst/IEEEtran
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Indeks
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 2
\paragraph_separation indent
\paragraph_indentation default
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "language={C++},alsolanguage={bash},breaklines=true,fontadjust=true,numberstyle={\tiny},stepnumber=1,numbersep={-7pt},numbers=right,numberstyle={\tiny},backgroundcolor={\color{cream}},basicstyle={\small}"
\tracking_changes false
\output_changes false
\html_math_output 3
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
author{Wojciech Zieliński}
\end_layout

\begin_layout Plain Layout


\backslash
shortauthor{W.
 Zieliński}
\end_layout

\begin_layout Plain Layout


\backslash
titlePL{Analiza właściwości miernika do pomiaru THD sygnałów napięciowych}
\end_layout

\begin_layout Plain Layout

%
\backslash
titleEN{LyX Dissertation Template}
\end_layout

\begin_layout Plain Layout


\backslash
shorttitle{Analiza właściwości miernika do pomiaru THD sygnałów napięciowych}
\end_layout

\begin_layout Plain Layout


\backslash
faculty{Wydział Elektrotechniki, Automatyki,
\backslash

\backslash
Informatyki i Inżynierii Biomedycznej}
\end_layout

\begin_layout Plain Layout


\backslash
division{Katedra Metrologii i Elektroniki}
\end_layout

\begin_layout Plain Layout


\backslash
specialization{Elektrotechnika}
\end_layout

\begin_layout Plain Layout


\backslash
thesistype{Praca dyplomowa magisterska}
\end_layout

\begin_layout Plain Layout


\backslash
supervisor{dr hab.
 inż.
 Ryszard Sroka, prof.
 AGH}
\end_layout

\begin_layout Plain Layout


\backslash
acknowledgements{Wymaga odkomentowania linijek w aghdpl.cls} 
\end_layout

\begin_layout Plain Layout


\backslash
date{czerwiec 2018} 
\end_layout

\begin_layout Plain Layout


\backslash
titlepages
\end_layout

\begin_layout Plain Layout


\backslash
setcounter{tocdepth}{3}
\end_layout

\begin_layout Plain Layout

%Te linijki zamieniaja Tabela i Rysunek na Tab.
 i Rys.
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
tablename}{Tab.}
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
figurename}{Rys.}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
Podstawowe definicje
\end_layout

\begin_layout Section
Sygnały i ich parametry
\end_layout

\begin_layout Subsection
Definicja sygnału okresowego
\end_layout

\begin_layout Standard
Sygnałem nazywa się zmienność danej wielkości fizycznej w funkcji jednej
 lub wielu zmiennych.
 W pomiarach elektrycznych najczęściej obserwujemy zmiany napięcia, natężenia,
 bądź częstotliwości w funkcji czasu.
 Każdy sygnał posiada nośnik oraz niesie jakąś informację.
 Przykładem nośnika może być przemienne napięcie elektryczne, zaś informacją
 przez niego niesioną - zmiana amplitudy lub częstotliwości tego napięcia.
\end_layout

\begin_layout Standard
Jeśli dany sygnał można zamodelować funkcją 
\begin_inset Formula $f(t)=f(t+kT)$
\end_inset

, gdzie 
\begin_inset Formula $k$
\end_inset

 jest liczbą naturalną, to jest on nazywany sygnałem okresowym o okresie
 
\begin_inset Formula $T$
\end_inset

 oraz częstotliwości 
\begin_inset Formula $f=\frac{1}{T}$
\end_inset

.
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

 Najprostszym przykładem sygnału okresowego jest sygnał sinusoidalny 
\begin_inset Formula $f(t)=Asin(2\pi ft+\varphi)$
\end_inset

.
\end_layout

\begin_layout Subsection
Składowe harmoniczne
\begin_inset CommandInset label
LatexCommand label
name "subsec:Dirichlet"

\end_inset


\end_layout

\begin_layout Standard
Jeżeli sygnał okresowy przedstawiany jest funkcją, która spełnia warunki
 Dirichleta, to znaczy:
\end_layout

\begin_layout Itemize
w dowolnym przedziale czasu równym okresowi posiada skończoną liczbę minimów
 i maksimów lokalnych,
\end_layout

\begin_layout Itemize
w tym przedziale czasu jest ciągła, z wyjątkiem skończonej liczby punktów
 nieciągłości, w której istnieją jej prawo- i lewostronne granice,
\end_layout

\begin_layout Itemize
wartości funkcji w punktach nieciągłości są równe wartościom średniej arytmetycz
nej granic prawo- i lewostronnych w tych punktach,
\end_layout

\begin_layout Standard
to można go przedstawić za pomocą szeregu trygonometrycznego Fouriera(
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:1"

\end_inset

): 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
f(t)=a_{0}+\stackrel[n=1]{\infty}{\sum}(a_{n}cos\,n\omega t+b_{n}sin\,n\omega t)=A_{0}+\stackrel[n=1]{\infty}{\sum}A_{n}cos(n\omega t+\varphi_{n})\label{eq:1}
\end{equation}

\end_inset

gdzie:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $A_{0}$
\end_inset

 – składowa stała,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $\omega=2\pi f$
\end_inset

 – pulsacja podstawowej harmonicznej,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $A_{n}$
\end_inset

 – amplituda n-tej harmonicznej,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $\varphi_{n}$
\end_inset

 – faza n-tej harmonicznej.
\end_layout

\begin_layout Standard
Wartość amplitud harmonicznych w funkcji częstotliwości nazywamy widmem
 amplitudowym sygnału.
 Prezentacja sygnału w funkcji częstotliwości jest równoważna z jej prezentacją
 w funkcji czasu.
\end_layout

\begin_layout Subsection
Parametry sygnałów
\begin_inset CommandInset label
LatexCommand label
name "subsec:Parametry-sygnałów"

\end_inset


\end_layout

\begin_layout Standard
W opisie sygnałów okresowych można wyróżnić kilka ich podstawowych wartości
 
\begin_inset CommandInset citation
LatexCommand cite
key "LaczaTelekomunikacyjne"

\end_inset

:
\end_layout

\begin_layout Itemize
wartość chwilową (w chwili czasu 
\begin_inset Formula $\tau$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
F_{\tau}=f(\tau)
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość szczytową 
\begin_inset Formula 
\begin{equation}
F_{m}=\stackrel[t\in[t_{0,}t_{0}+T]{]}{\,}{sup}f(t)
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość średnią 
\begin_inset Formula 
\begin{equation}
F_{śr}=A_{0}=\frac{1}{T}\stackrel[t_{0}]{t_{0}+T}{\int}f(t)dt
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość średnią wyprostowaną 
\begin_inset Formula 
\begin{equation}
F_{śrp}=\frac{1}{T}\stackrel[t_{0}]{t_{0}+T}{\int}|f(t)|dt\label{eq:Fsrp}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość skuteczną (RMS) 
\begin_inset Formula 
\begin{equation}
F_{sk}=F=\sqrt{\frac{1}{T}\stackrel[t_{0}]{t_{0}+T}{\int}f^{2}(t)dt}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Wykorzystując powyższe wartości wprowadzono szereg współczynników ułatwiających
 ocenę parametrów sygnału.
 Najważniejsze z nich to:
\end_layout

\begin_layout Itemize
współczynnik kształtu 
\begin_inset Formula 
\begin{equation}
k_{k}=\frac{F}{F_{śr}}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
współczynnik szczytu 
\begin_inset Formula 
\begin{equation}
k_{s}=\frac{F_{m}}{F}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
współczynnik wypełnienia 
\begin_inset Formula 
\begin{equation}
k_{w}=\frac{F_{śr}}{F_{m}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Dla 
\begin_inset Formula $F_{śr}=0$
\end_inset

 wartość średnią zastępujemy w powyższych równaniach wartością średnią wyprostow
aną 
\begin_inset Formula $F_{śrp}$
\end_inset

 (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:Fsrp"

\end_inset

).
 
\end_layout

\begin_layout Standard
Współczynniki najważniejszych sygnałów są stabelaryzowane, można więc na
 ich podstawie wyznaczyć wartość skuteczną i maksymalną danego sygnału znając
 jego kształt i wartość średnią.
\end_layout

\begin_layout Section
Transformata Fouriera
\end_layout

\begin_layout Subsection
Dyskretna transformata Fouriera 
\end_layout

\begin_layout Standard
Transformata Fouriera jest niezwykle istotnym narzędziem matematycznym,
 pozwalającym na analizę częstotliwościową sygnałów.
 Dla sygnałów ciągłych przyjmuje ona postać następującej całki:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
X(f)=\stackrel[-\infty]{\infty}{\int}x(t)e^{-j2\pi ft}dt
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $x(t)$
\end_inset

 jest sygnałem ciągłym w dziedzinie czasu.
 Przekształcenie to umożliwia przejście ciągłej w dziedzinie czasu funkcji
 
\begin_inset Formula $x(t)$
\end_inset

 w ciągłą w dziedzinie częstotliwości funkcję 
\begin_inset Formula $X(f)$
\end_inset

, przy czym obie z nich są równoważnym opisem tego samego sygnału.
 
\end_layout

\begin_layout Standard
Jeśli sygnał 
\begin_inset Formula $x(t)$
\end_inset

 zostanie spróbkowany równomiernie w dziedzinie czasu, można go poddać dyskretne
mu przekształceniu Fouriera (DFT - Discrete Fourier Transform): 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
X(m)=\stackrel[n=0]{N-1}{\sum}x(n)e^{-j2\pi\frac{nm}{N}}\label{eq:DFT}
\end{equation}

\end_inset

gdzie:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $x(n)$
\end_inset

 — ciąg próbek sygnału 
\begin_inset Formula $x(t)$
\end_inset

,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $N$
\end_inset

 — liczba pobranych próbek,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $m$
\end_inset

 — numer prążka w widmie amplitudowym.
 
\end_layout

\begin_layout Standard
Równanie (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:DFT"

\end_inset

) może w bardzo prosty sposób zostać numerycznie zaimplementowane na dowolnym
 procesorze, co umożliwia błyskawiczną analizę częstotliwościową dowolnego
 sygnału.
\end_layout

\begin_layout Standard
Na wykresie (Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:pokazDFT"

\end_inset

) przedstawiono przykładowy sygnał spróbkowany w dziedzinie czasu oraz jego
 widmo częstotliwościowe otrzymane z DFT.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/PokazDFT.eps
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Spróbkowany sygnał ciągły oraz jego widmo częstotliwościowe
\begin_inset CommandInset label
LatexCommand label
name "fig:pokazDFT"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Właściwości DFT
\end_layout

\begin_layout Standard
Dyskretna transformata Fouriera posiada kilka istotnych właściwości, o których
 należy wspomnieć:
\end_layout

\begin_layout Itemize
symetria,
\end_layout

\begin_layout Itemize
liniowość,
\end_layout

\begin_layout Itemize
rozdzielczość,
\end_layout

\begin_layout Itemize
przeciek.
\end_layout

\begin_layout Subsubsection
Symetria
\end_layout

\begin_layout Standard
Jeśli x(n) jest ciągiem rzeczywistym (jego części urojone są równe zeru)
 o liczbie elementów równej 
\begin_inset Formula $N$
\end_inset

, to dla wartości wyjściowej jego DFT zachodzi zależność:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
|X(m)|=|X(N-m)|\label{eq:SymetriaDFT}
\end{equation}

\end_inset

Oznacza to, że widmo częstotliwościowe jest symetryczne względem środka,
 czyli połowy częstotliwości próbkowania sygnału (patrz: 
\begin_inset CommandInset ref
LatexCommand nameref
reference "subsec:Rozdzielczość-DFT"

\end_inset

).
 W związku z tym wartości dla argumentów 
\begin_inset Formula $m\geq(N/2)$
\end_inset

 są nadmiarowe w stosunku do wartości dla argumentów od 
\begin_inset Formula $m=0$
\end_inset

 do 
\begin_inset Formula $m=(N/2)-1$
\end_inset


\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

 i nie wnoszą dodatkowych informacji.
 Na rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Symetria-DFT"

\end_inset

 przedstawiono pełne widmo sygnału z rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:pokazDFT"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/SymetriaDFT.eps
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Symetria DFT.
 Prążki dla m = 28 i 31 są kopią prążków dla m = 1 i 4.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Symetria-DFT"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Liniowość
\end_layout

\begin_layout Standard
Liniowość jest właściwością DFT, która mówi, że DFT sumy dwóch sygnałów
 jest równa sumie transformat każdego z nich 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

, to znaczy transformata sygnału 
\begin_inset Formula $x_{sum}(n)=x_{1}(n)+x_{2}(n)$
\end_inset

 jest równa 
\begin_inset Formula $X_{sum}(m)=X_{1}(m)+X_{2}(m)$
\end_inset

.
 Dzięki tej właściwości możliwe jest wyznaczanie DFT sygnału składającego
 się z sumy dowolnej liczby sinusoid.
\end_layout

\begin_layout Subsubsection
Rozdzielczość
\begin_inset CommandInset label
LatexCommand label
name "subsec:Rozdzielczość-DFT"

\end_inset


\end_layout

\begin_layout Standard
Aby wyznaczyć rzeczywistą wartość częstotliwości dla danego prążka DFT należy
 posłużyć się wzorem:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
f(m)=\frac{mf_{s}}{N}
\end{equation}

\end_inset

 gdzie 
\begin_inset Formula $f_{s}$
\end_inset

 to częstotliwość próbkowania, a 
\begin_inset Formula $N$
\end_inset

 to liczba próbek.
 Zatem rozdzielczość DFT, czyli dokładność z jaką możemy zbadać widmo sygnału
 wynosi 
\begin_inset Formula 
\begin{equation}
\Delta f=\frac{f_{s}}{N}
\end{equation}

\end_inset

 Wynika stąd, że chcąc poprawić dokładność analizy częstotliwościowej powinniśmy
 zwiększyć liczbę pobieranych próbek.
 Niestety, prowadzi to do wzrostu zużycia pamięci i znacznego wydłużenia
 czasu obliczeń, niezbędne jest więc znalezienie złotego środka między rozdzielc
zością a możliwościami sprzętu.
\end_layout

\begin_layout Subsubsection
Przeciek
\begin_inset CommandInset label
LatexCommand label
name "subsec:Przeciek"

\end_inset


\end_layout

\begin_layout Standard
Dyskretna transformata Fouriera operuje na skończonych zbiorach 
\begin_inset Formula $N$
\end_inset

 wartości wejściowych, próbkowanych z częstotliwością 
\begin_inset Formula $f_{s}$
\end_inset

, dając w wyniku 
\begin_inset Formula $N$
\end_inset

-punktową transformatę, której dyskretne wartości wyjściowe są związane
 z całkowitymi wielokrotnościami częstotliwości 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

.
 Jeśli jednak sygnał wejściowy zawiera składową o częstotliwości będącej
 niecałkowitą wielokrotnością 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

, to energia tej składowej ujawni się we wszystkich prążkach DFT
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

.
 To niekorzystne zjawisko nazywane jest przeciekiem DFT i prowadzi do przekłaman
ia wyników analizy częstotliwościowej.
 Przykład przecieku przedstawiono na rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Przeciek"

\end_inset

: wykresy przedstawiają kolejno sygnał o częstotliwości 8,75Hz próbkowany
 przez 1 sekundę, oraz jego obliczone widmo amplitudowe.
 DFT obliczono z 256 próbek pobieranych z częstotliwością 
\begin_inset Formula $\frac{8,75}{256}$
\end_inset

Hz.
 Stosunek 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

 wynosi zatem 8,75, nie jest więc wartością całkowitą, co doprowadziło do
 powstania wyraźnego przecieku.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/PrzeciekDFT.eps

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Prezentacja zjawiska przecieku DFT
\begin_inset CommandInset label
LatexCommand label
name "fig:Przeciek"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ponieważ w przyrodzie nie istnieją sygnały czysto poliharmoniczne, zjawisko
 przecieku jest nieuniknione.
 Można je jednak minimalizować poprzez dostosowywanie częstotliwości próbkowania
 do podstawowej składowej sygnału oraz wykorzystywanie funkcji okien, które
 niwelują przeciek przez zmniejszanie amplitudy sygnału przy granicach okna
 obserwacji sygnału.
 
\end_layout

\begin_layout Subsection
Szybka transformata Fouriera
\end_layout

\begin_layout Standard
Najbardziej czasochłonnym dla procesora etapem wyznaczania DFT jest wykonywanie
 licznych mnożeń na liczbach zespolonych.
 Liczba tych operacji wynosi 
\begin_inset Formula $N^{2}$
\end_inset

, co przy wzrastającej liczbie próbek prowadzi do bardzo znacznego wydłużenia
 czasu obliczeń.
 Aby zniwelować ten przyrost opracowane zostały algorytmy szybkiej transformaty
 Fouriera (FFT - Fast Fourier Transform), z których najpopularniejszym jest
 Radix-2.
 Wykorzystuje on właściwości DFT, takie jak symetria i liniowość, do podzielenia
 N-punktowego DFT na szereg 2-punktowych DFT, co znacząco zmniejsza liczbę
 wymaganych mnożeń do 
\begin_inset Formula $\frac{N}{2}log_{2}N$
\end_inset

 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

.
 Różnicę tę przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Porównanie-liczby-mnożeń"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/DFTaFFT.eps
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Porównanie liczby mnożeń zespolonych dla klasycznego DFT i algorytmu Radix-2
\begin_inset CommandInset label
LatexCommand label
name "fig:Porównanie-liczby-mnożeń"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset

Jak widać, różnica znacząco się powiększa ze wzrostem liczby próbek i dla
 2048-punktowego FFT musimy wykonać prawie 700 razy mniej mnożeń zespolonych
 niż w przypadku klasycznego DFT.
 Należy zaznaczyć, że wynik FFT jest identyczny z wynikiem klasycznego DFT,
 zmianie ulega jedynie szybkość obliczeń.
 
\end_layout

\begin_layout Standard
Istotną cechą algorytmu Radix-2 jest fakt, że liczba próbek wejściowych
 musi być równa 
\begin_inset Formula $2^{n}$
\end_inset

, gdzie 
\begin_inset Formula $n$
\end_inset

 jest liczbą naturalną.
 Wymusza to odpowiedni dobór częstotliwości próbkowania w celu otrzymania
 pożądanej rozdzielczości.
\end_layout

\begin_layout Section
Definicja THD
\end_layout

\begin_layout Subsection
Współczynnik zawartości harmonicznych i całkowity współczynnik odkształceń
 harmonicznych
\end_layout

\begin_layout Standard
Poza współczynnikami podanymi w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Parametry-sygnałów"

\end_inset

 bardzo ważną wielkością opisującą sygnał okresowy jest jego współczynnik
 zawartości harmonicznych 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
h=\sqrt{\frac{\stackrel[n=2]{\infty}{\sum}A_{n}^{2}}{\stackrel[n=1]{\infty}{\sum}A_{n}^{2}}}\label{eq:h}
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $A_{n}$
\end_inset

 jest amplitudą n-tej harmonicznej sygnału.
 Współczynnik ten określa odkształcenie sygnału względem idealnej sinusoidy.
 Jest on szczególnie istotny w telekomunikacji i przetwarzaniu audio.
\end_layout

\begin_layout Standard
W elektroenergetyce używa się jednak podobnego współczynnika nazywanego
 całkowitym współczynnikiem odkształceń harmonicznych (ang.
 THD - total harmonic distortion) wyrażanego wzorem:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
THD=\sqrt{\frac{\stackrel[n=2]{\infty}{\sum}A_{n}^{2}}{A_{1}^{2}}}\label{eq:THD}
\end{equation}

\end_inset

 Pomiędzy tymi dwoma współczynnikami występuje zależność 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
THD=\frac{1}{\sqrt{1-h^{2}}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
THD jest jednym z najistotniejszych parametrów określających jakość energii
 elektrycznej w systemie elektroenergetycznym.
 Odkształcenia harmoniczne są w nim generowane przez odbiorniki o nieliniowym
 poborze prądu, takie jak prostowniki, zasilacze impulsowe, falowniki, ściemniac
ze czy sterowniki LED.
 Wysoka zawartość harmonicznych może być bardzo szkodliwa dla urządzeń elektrycz
nych, w szczególności dla silników indukcyjnych.
\end_layout

\begin_layout Subsection
THD a jakość energii elektrycznej
\end_layout

\begin_layout Section
Przetwornik analogowo - cyfrowy
\end_layout

\begin_layout Standard
Przetwornik analogowo - cyfrowy jest urządzeniem umożliwiającym konwersję
 sygnałów analogowych do postaci cyfrowej.
 Pozwala to na o wiele szybszą ich analizę i przetwarzanie przy użyciu wyspecjal
izowanych procesorów, a także na wygodne przechowywanie danych pomiarowych.
\end_layout

\begin_layout Subsection
Etapy procesu przetwarzania analogowo - cyfrowego
\end_layout

\begin_layout Standard
W procesie przetwarzania analogowo - cyfrowego można wyodrębnić trzy główne
 etapy: próbkowanie, kwantowanie i kodowanie.
\end_layout

\begin_layout Subsubsection
Próbkowanie
\end_layout

\begin_layout Standard
Próbkowaniem sygnału nazywa się operację pobierania chwilowych wartości
 tego sygnału w określonych, najczęściej rozłożonych równomiernie, momentach
 czasu.
 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

 Polega ono na zatrzaskiwaniu wartości chwilowych w tzw.
 układzie próbkująco - pamiętającym (Sample and Hold) z częstotliwością
 nazywaną częstotliwością próbkowania.
 Wielkość ta determinuje szerokość pasma sygnału, który może zostać prawidłowo
 spróbkowany (patrz punkt 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Twierdzenie-o-próbkowaniu"

\end_inset

).
 W najprostszej implementacji układu Sample and Hold elementem pamiętającym
 jest kondensator 
\begin_inset Formula $C$
\end_inset

, zaś moment pobrania próbki jest determinowany przez zamknięcie klucza
 tranzystorowego 
\begin_inset Formula $K$
\end_inset

.
 W celu uniknięcia wpływu obciążenia na źródło sygnału i napięcie na kondensator
ze układ jest z obu stron separowany wtórnikami napięciowymi.
 (rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Układ-Sample-and"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Sample and Hold.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Układ Sample and Hold
\begin_inset CommandInset label
LatexCommand label
name "fig:Układ-Sample-and"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Kwantowanie 
\end_layout

\begin_layout Standard
Kwantowanie polega na przekształceniu ciągłego zbioru wartości sygnału na
 skończoną liczbę przedziałów wynikających z kroku kwantowania 
\begin_inset Formula $q$
\end_inset

 
\begin_inset CommandInset citation
LatexCommand cite
key "metroChwaleba"

\end_inset

.
 Podział opiera się na porównywaniu spróbkowanej wartości ze wzorcami napięciowy
mi za pomocą szeregu komparatorów.
 Liczba bitów potrzebnych do zapisania w kodzie binarnym ilości przedziałów
 nazywana jest rozdzielczością przetwornika, zaś różnica napięć między pierwszym
 a ostatnim z nich to zakres przetwornika.
\end_layout

\begin_layout Standard
Z procesem kwantowania powiązany jest tzw.
 błąd kwantowania, polegający na braku możliwości zmierzenia zmian sygnału
 wejściowego, które są mniejsze niż różnica napięć pomiędzy dwoma sąsiednimi
 poziomami kwantowania.
 Błąd ten można zredukować poprzez zwiększenie rozdzielczości przetwornika.
\end_layout

\begin_layout Subsubsection
Kodowanie
\end_layout

\begin_layout Standard
Ostatnim etapem przetwarzania A/C jest kodowanie, czyli zapis spróbkowanej
 i skwantowanej wartości do postaci słowa w kodzie dwójkowym.
 Dane w takiej formie można przechowywać i przetwarzać cyfrowo.
 
\end_layout

\begin_layout Section
Filtr antyaliasingowy
\end_layout

\begin_layout Subsection
Twierdzenie o próbkowaniu i definicja aliasingu 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Twierdzenie-o-próbkowaniu"

\end_inset


\end_layout

\begin_layout Standard
W celu poprawnego odtworzenia spróbkowanego sygnału niezbędne jest pobranie
 odpowiedniej liczby próbek na okres badanego sygnału.
 Jest ona definiowana przez twierdzenie Kotielnikowa-Shannona (inaczej twierdzen
ie o próbkowaniu), które mówi, że odtworzenie sygnału z ciągu próbek bez
 utraty informacji jest możliwe, jeśli: 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Itemize
funkcja opisująca sygnał spełnia warunki Dirichleta (patrz rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Dirichlet"

\end_inset

),
\end_layout

\begin_layout Itemize
funkcja opisująca sygnał jest ściśle dolnopasmowa - jej widmo jest ograniczone
 od góry częstotliwością 
\begin_inset Formula $f_{g}$
\end_inset

,
\end_layout

\begin_layout Itemize
sygnał jest próbkowany z częstotliwością 
\begin_inset Formula $f_{s}\geq2f_{g}$
\end_inset

.
\end_layout

\begin_layout Standard
Częstotliwość 
\begin_inset Formula $2f_{g}$
\end_inset

 jest nazywana częstotliwością Nyquista.
 Jest to minimalna częstotliwość z jaką należy próbkować sygnał, jednak
 w praktyce używa się częstotliwości w granicach 
\begin_inset Formula $5-10f_{g}$
\end_inset

 w celu poprawnego odwzorowania kształtu sygnału.
\end_layout

\begin_layout Standard
Jeśli twierdzenie o próbkowaniu nie zostanie spełnione, może dojść do zjawiska
 aliasingu, czyli nakładania się na siebie widm spróbkowanego sygnału.
 Wskazuje na to zjawisko symetrii DFT: jeśli w widmie sygnału pojawi się
 prążek, którego 
\begin_inset Formula $m>N/2$
\end_inset

, to zgodnie z równaniem (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:SymetriaDFT"

\end_inset

) nie da się określić, czy odpowiada on częstotliwości 
\begin_inset Formula $f(m)$
\end_inset

 czy 
\begin_inset Formula $f(N-m)$
\end_inset

, co prowadzi do niejednoznaczności w odtworzeniu sygnału.
 
\end_layout

\begin_layout Standard
W celu zapobiegnięcia efektowi aliasingu na wejściu przetwornika A/C należy
 zastosować tzw.
 filtr antyaliasingowy, który zapewni, że próbkowany sygnał będzie ściśle
 dolnopasmowy oraz pozwoli prawidłowo dobrać częstotliwość próbkowania.
\end_layout

\begin_layout Subsection
Filtry aktywne
\end_layout

\begin_layout Standard
W roli filtrów antyaliasingowych szczególnie chętnie wykorzystywane są filtry
 aktywne RC.
 Są to układy budowane z wykorzystaniem wzmacniaczy operacyjnych, które
 w porównaniu do filtrów pasywnych RLC zapewniają większą stabilność, dokładność
, umożliwiają wzmocnienie sygnału wejściowego w paśmie przenoszenia oraz
 mają lepsze tłumienie w paśmie zaporowym.
 Dodatkowo pozwalają one na budowę filtrów wysokich rzędów bez użycia dużych
 elementów indukcyjnych.
 
\begin_inset CommandInset citation
LatexCommand cite
key "FiltryAktywnePL"

\end_inset


\end_layout

\begin_layout Standard
Jedną z popularnych topologii budowy filtrów aktywnych jest tak zwana topologia
 wielokrotnych sprzężeń zwrotnych (Multiple Feedback).Zapewnia ona bardzo
 dobre tłumienie w paśmie zaporowym dla szerokiego zakresu częstotliwości
 oraz niskie szumy i wysokie tłumienie składowej wspólnej (CMRR) 
\begin_inset CommandInset citation
LatexCommand cite
key "TI_MFBFilter"

\end_inset

.
 Schemat filtra dolnopasmowego 2.
 rzędu w topologii MFB przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Aktywny-filtr-dolnopasmowy"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/MFB.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Aktywny filtr dolnopasmowy w topologii MFB
\begin_inset CommandInset label
LatexCommand label
name "fig:Aktywny-filtr-dolnopasmowy"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Poprzez odpowiedni dobór wartości komponentów pasywnych filtra można znacznie
 modyfikować jego parametry.
 Powstało wiele ustandaryzowanych typów filtrów aktywnych, z których najpopularn
iejsze to: 
\begin_inset CommandInset citation
LatexCommand cite
key "FiltryAktywneWFiIS"

\end_inset


\end_layout

\begin_layout Itemize
filtr Butterwortha - zapewnia płaską charakterystykę amplitudową w paśmie
 przenoszenia,
\end_layout

\begin_layout Itemize
filtr Chebysheva - zapewnia znaczne tłumienie w paśmie zaporowym kosztem
 oscylacji charakterystyki amplitudowej w paśmie przenoszenia,
\end_layout

\begin_layout Itemize
filtr Bessela - zapewnia liniową charakterystykę fazową w paśmie przenoszenia
 kosztem gorszego tłumienia w paśmie zaporowym.
\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Charakterystyki-Bodego-różnych"

\end_inset

 przedstawia porównanie charakterystyk powyższych filtrów dla filtra dolnopasmow
ego 4.
 rzędu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Filtry.eps
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Charakterystyki Bodego różnych typów filtrów aktywnych 
\begin_inset CommandInset label
LatexCommand label
name "fig:Charakterystyki-Bodego-różnych"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Filtry w technologii SC
\end_layout

\begin_layout Standard
Wadą analogowych filtrów aktywnych jest duża liczba niezbędnych komponentów,
 zwłaszcza przy wyższych rzędach filtra.
 Filtr 8.
 rzędu w konfiguracji MFB wymaga użycia 4 wzmacniaczy, 12 rezystorów i 8
 kondensatorów.
 Taki układ złożony z elementów dyskretnych zajmowałby bardzo dużą powierzchnię
 i byłby silnie narażony na niedokładność elementów.
 Rozwiązaniem w takich przypadkach może być zastosowanie techniki Switched
 Capacitor.
\end_layout

\begin_layout Standard
W układach SC rezystory zostały zastąpione przez odpowiednio kluczowane
 kondensatory.
 Rozważmy układ z rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Układ-przełączanego-kondensatora"

\end_inset

.
 Przy przełączeniu klucza z potencjału 
\begin_inset Formula $V_{1}$
\end_inset

 na 
\begin_inset Formula $V_{2}$
\end_inset

 kondensator ulega przeładowaniu, a zmiana ładunku na jego okładkach wynosi:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta Q=C(V_{1}-V_{2})=C\Delta V
\end{equation}

\end_inset

Zakładając, że klucz będzie załączany 2-fazowo z częstotliwością 
\begin_inset Formula $f_{p}$
\end_inset

, średni prąd 
\begin_inset Formula $i$
\end_inset

 wyniesie:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
i=\Delta Qf_{p}=C(V_{1}-V_{2})f_{p}=C\Delta Vf_{p}
\end{equation}

\end_inset

co możemy przełożyć na ekwiwalentną rezystancję 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować5"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
R=\frac{\Delta V}{i}=\frac{1}{Cf_{p}}\label{eq:RezystancjaSC}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/SC.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Układ przełączanego kondensatora 
\begin_inset CommandInset label
LatexCommand label
name "fig:Układ-przełączanego-kondensatora"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Wykorzystując zależność (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:RezystancjaSC"

\end_inset

) można łatwo projektować filtry wysokich rzędów w technologii CMOS, co
 wynika z dwóch faktów:
\end_layout

\begin_layout Itemize
kondensatory MOS o małych pojemnościach zajmują znacznie mniej miejsca na
 krzemie niż rezystory o dużych wartościach wykonanych w tej technologii,
\end_layout

\begin_layout Itemize
rozrzuty względne są dużo mniejsze dla samych kondensatorów niż dla połączenia
 kondensatorów i rezystorów, co zapewnia większą precyzję wykonania filtra.
\end_layout

\begin_layout Standard
Dodatkową zaletą takich układów jest możliwość regulacji częstotliwości
 granicznej filtra przez zmianę częstotliwości sygnału zegarowego.
 
\end_layout

\begin_layout Standard
Wadą filtrów SC jest fakt, że sygnał zegarowy sterujący kluczami przechodzi
 do sygnału wyjściowego filtra jako zakłócenie.
 Jeśli częstotliwość zegara będzie odpowiednio większa od częstotliwości
 granicznej (w praktyce najczęściej stosuje się proporcję 100:1), to można
 sobie z tym faktem poradzić umieszczając na wyjściu filtra SC dodatkowy
 filtr 1.
 lub 2.
 rzędu.
 Konieczność podawania tak szybkiego zegara ogranicza jednak użyteczne pasmo
 filtrów SC do kilkudziesięciu kHz.
 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować5"

\end_inset


\end_layout

\begin_layout Subsection
Dobór parametrów filtra
\end_layout

\begin_layout Standard
Projektowanie filtra antyaliasingowego składa się zazwyczaj z kilku etapów.
 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować2"

\end_inset


\end_layout

\begin_layout Standard
Pierwszym z nich jest ustalenie częstotliwości granicznej 
\begin_inset Formula $f_{g}$
\end_inset

, która powinna być maksymalną oczekiwaną częstotliwością użyteczną występującą
 w próbkowanym sygnale.
 W praktyce jednak dla częstotliwości granicznej tłumienie filtra wynosi
 już 3 dB, zatem powinna ona być ustalona nieco wyżej.
\end_layout

\begin_layout Standard
Następnie należy ustalić częstotliwość próbkowania przetwornika 
\begin_inset Formula $f_{s}$
\end_inset

 oraz powiązaną z nią częstotliwość końcową filtra 
\begin_inset Formula $f_{stop}$
\end_inset

.
 Częstotliwość końcowa jest częstotliwością, dla której tłumienie filtra
 jest równe zakresowi dynamiki przetwornika 
\begin_inset Formula $Z_{D}$
\end_inset

:
\begin_inset Formula 
\begin{equation}
Z_{D}=6,02n\;[dB]\label{eq:zakres-dynamiczny}
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $n$
\end_inset

 jest rozdzielczością przetwornika wyrażoną w bitach.
 Częstotliwość próbkowania zaś musi być od niej co najmniej dwukrotnie większa.
\end_layout

\begin_layout Standard
Kolejnym krokiem jest ustalenie wymaganego rzędu filtra 
\begin_inset Formula $M$
\end_inset

.
 Oblicza się go korzystając z wzoru: 
\begin_inset Formula 
\begin{equation}
M=\frac{Z_{D}}{6log_{2}(\frac{f_{s}}{2f_{gr}})}\label{eq:rzad-filtra}
\end{equation}

\end_inset

Filtry do 4.
 rzędu można łatwo wykonać z elementów dyskretnych, zaś filtry scalone SC
 są ogólnodostępne dla rzędów od 8.
 do 10.
 Jeśli okaże się, że niezbędny będzie filtr wyższego rzędu, należy rozważyć
 zwiększenie częstotliwości próbkowania, bądź zmniejszenie częstotliwości
 granicznej filtra albo rozdzielczości przetwornika A/C.
\end_layout

\begin_layout Standard
Ostatnim etapem jest wybranie konkretnej topologii filtra oraz policzenie
 wartości jego elementów, w czym niezwykle pomocne są dedykowane programy
 komputerowe, takie jak 
\shape italic
Filter Wizard
\shape default
 firmy Analog Devices czy 
\shape italic
WEBENCH Tools
\shape default
 firmy Texas Instruments.
\end_layout

\begin_layout Chapter
Przegląd istniejących rozwiązań mierników zawartości harmonicznych
\end_layout

\begin_layout Section
Analogowe mierniki współczynnika zawartości harmonicznych
\end_layout

\begin_layout Standard
Analogowe mierniki współczynnika zawartości harmonicznych działają bezpośrednio
 na podstawie wzoru (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:h"

\end_inset

).
 Ich zasada działania polega na pomiarze wartości skutecznej sygnału, następnie
 odfiltrowaniu podstawowej harmonicznej i ponownym pomiarze wartości skutecznej.
 Bezpośrednie porównanie tych dwóch wartości pozwala wyznaczyć wartość współczyn
nika 
\begin_inset Formula $h$
\end_inset

.
 
\end_layout

\begin_layout Standard
Układ taki, przedstawiony na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Analogowy-miernik-współczynnika"

\end_inset

, składa się z tłumika oraz wzmacniacza kondycjonujących wstępnie sygnał,
 za którymi znajduje się pierwszy woltomierz wartości skutecznej.
 Drugim ogniwem układu jest filtr selektywny o bardzo wysokiej dobroci,
 za którym umieszczony jest drugi woltomierz.
 Filtr dostraja się tak, aby wskazanie woltomierza 
\begin_inset Formula $V_{2}$
\end_inset

 osiągnęło minimum, co świadczy o odfiltrowaniu składowej podstawowej.
 Wartość współczynnika 
\begin_inset Formula $h$
\end_inset

 wyznacza się następnie korzystając z zależności:
\begin_inset Formula 
\begin{equation}
h=k\frac{U_{V2}}{U_{V1}}
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $k$
\end_inset

 jest współczynnikiem wynikającym z konstrukcji filtra.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Analogowy miernik h.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Analogowy miernik współczynnika zawartości harmonicznych
\begin_inset CommandInset label
LatexCommand label
name "fig:Analogowy-miernik-współczynnika"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Jako filtrów selektywnych używano najczęściej układów mostkowych o regulowanej
 częstotliwości rezonansowej, takich jak mostek Robinsona-Wiena.
 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Section
Analogowe analizatory widma 
\end_layout

\begin_layout Standard
Kolejną generacją mierników pozwalających na analizę zawartości wyższych
 harmonicznych w sygnale są analogowe analizatrory widma.
 Umożliwiają one graficzną prezentację poszczególnych prążków widma częstotliwoś
ciowego sygnału na ekranie oscyloskopu analogowego.
\end_layout

\begin_layout Standard
Na wejściu układu znajduje się mieszacz, do którego doprowadza się odpowiednio
 skondycjonowany sygnał badany oraz sygnał z przestrajanego generatora.
 Częstotliwość generatora jest dobierana tak, aby na wyjściu różnicowym
 mieszacza częstotliwość odpowiadająca badanej harmonicznej była zawsze
 stała.Sygnał następnie jest wzmacniany i filtrowany selektywnie, dzięki
 czemu otrzymuje się informację o poszczególnych składowych sygnału.
 Na końcu sygnał jest wzmacniany logarytmicznie w celu lepszego ukazania
 składowych o małych amplitudach i podawany na wejście oscyloskopu analogowego.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Analogowy miernik widma.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Analogowy analizator widma
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Analizatory cyfrowe
\end_layout

\begin_layout Standard
Rozwój mikroprocesorów i technik cyfrowego przetwarzania sygnałów doprowadził
 praktycznie do wyparcia analizatorów analogowych.
 Obecnie stosowane są o wiele tańsze i niejednokrotnie dokładniejsze analizatory
 cyfrowe, których działanie jest oparte o dyskretną transformatę Fouriera.
 Główną ideę stanowi użycie precyzyjnych przetworników analogowo-cyfrowych
 oraz procesorów sygnałowych, które pozwalają na błyskawiczne wyznaczenie
 praktycznie wszystkich parametrów sygnału.
\end_layout

\begin_layout Standard
Na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Cyfrowy-analizator-widma"

\end_inset

 przedstawiono schemat ideowy cyfrowego analizatora widma.
 Sygnał jest próbkowany przez określony czas i z odpowiednią częstotliwością,
 za co odpowiedzialny jest przetwornik A/C i sterujący nim procesor.
 Następnie próbki są przesyłane do procesora sygnałowego, gdzie przy użyciu
 algorytmów FFT wyznaczane jest jego widmo.
 Wykorzystując obliczone widmo można w prosty sposób obliczyć wartość współczynn
ika THD na podstawie definicji (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THD"

\end_inset

).
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Cyfrowy miernik widma.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ogólny schemat ideowy cyfrowego analizatora widma
\begin_inset CommandInset label
LatexCommand label
name "fig:Cyfrowy-analizator-widma"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ogromną zaletą rozwiązań cyfrowych jest fakt, że spróbkowany sygnał można
 bardzo szybko analizować pod kątem najróżniejszych czynników, wystarczy
 jedynie zaimplementować odpowiedni algorytm na procesorze sygnałowym.
 Producenci przyrządów pomiarowych, tacy jak Sonel, Fluke czy Shneider-Electric
 produkują cyfrowe analizatory pozwalające na wyznaczenie wszystkich wskaźników
 jakości energii elektrycznej, takich jak zawartość harmonicznych, napięcie
 skuteczne, częstotliwość, czy współczynnik migotania światła oraz rejestrację
 zdarzeń takich jak zapady czy zaniki napięcia w sieci elektroenergetycznej.
 
\begin_inset CommandInset citation
LatexCommand cite
key "piknik"

\end_inset


\end_layout

\begin_layout Chapter
Analiza normy IEC 6100-4-30
\end_layout

\begin_layout Standard
Norma IEC 6100-4-30 
\begin_inset CommandInset citation
LatexCommand cite
key "normaJakosc"

\end_inset

 opisuje metody pomiarów oraz sposoby implementacji przyrządów do pomiaru
 parametrów jakości energii elektrycznej w sieciach 50/60 Hz.
 Podane w niej są standardy pomiarów wielkości takich jak:
\end_layout

\begin_layout Itemize
częstotliwość,
\end_layout

\begin_layout Itemize
wartość skuteczna,
\end_layout

\begin_layout Itemize
współczynnik migotania światła,
\end_layout

\begin_layout Itemize
zapady i zaniki napięcia,
\end_layout

\begin_layout Itemize
asymetria napięcia,
\end_layout

\begin_layout Itemize
zawartość wyższych harmonicznych.
\end_layout

\begin_layout Standard
Niniejszy rozdział zawiera fragmenty powyższej normy dotyczące pomiaru zawartośc
i wyższych harmonicznych oraz częstotliwości.
\end_layout

\begin_layout Section
Klasy przyrządów
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Przyrządy klasy A są stosowane w przypadkach, gdy niezbędne jest wykonanie
 precyzyjnych pomiarów, na przykład przy rozstrzyganiu spraw sądowych czy
 weryfikacji norm.
 Dwa niezależne pomiary wykonane dwoma różnymi miernikami klasy A muszą
 podać ten sam wynik w granicach ich tolerancji.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Klasa S jest używana w zastosowaniach statystycznych takich jak analiza
 jakości energii elektrycznej.
 Możliwy jest niepełny pomiar parametrów.
 Pomimo wykorzystywania podobnych metod pomiaru co w klasie A wymagania
 są mniejsze.
 Stosowanie w pomiarach na pojedynczych obiektach przez długi okres czasu
 lub w dużym fragmencie sieci.
\end_layout

\begin_layout Section
Wymagania dotyczące pomiaru częstotliwości 
\end_layout

\begin_layout Subsection
Metoda pomiaru
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Odczyt częstotliwości powinien być dokonywany co 10 sekund.
 Metoda pomiaru polega na zliczaniu pełnych okresów w 10-sekundowym oknie,
 a następnie podzieleniu ich liczby przez dokładny czas ich trwania.
 W metodzie zliczania przejść przez zero sygnał powinien być przefiltrowany
 w celu uniknięcia fałszywych zliczeń.
 10-sekundowe okna pomiarowe nie mogą na siebie nachodzić.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Dla klasy S wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Subsection
Niepewność i zakres pomiaru
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Niepewność pomiaru częstotliwości nie powinna przekraczać 
\begin_inset Formula $\pm$
\end_inset

10 mHz w zakresie od 42,5 do 57,5 Hz dla częstotliwości oczekiwanej 50 Hz
 oraz w zakresie od 51 do 69 Hz dla częstotliwości oczekiwanej 60 Hz.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Niepewność pomiaru częstotliwości nie powinna przekraczać 
\begin_inset Formula $\pm$
\end_inset

50 mHz w zakresie od 42,5 do 57,5 Hz dla częstotliwości oczekiwanej 50 Hz
 oraz w zakresie od 51 do 69 Hz dla częstotliwości oczekiwanej 60 Hz.
\end_layout

\begin_layout Subsection
Ewaluacja pomiaru
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Podczas pomiaru powinien być wykonywany równoległy pomiar porównawczy na
 kanale referencyjnym.
 Producent przyrządu musi określić sposób postępowania w razie utraty sygnału
 referencyjnego.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Dla klasy S wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Section
Definicje dotyczące harmonicznych i współczynników odkształcenia
\end_layout

\begin_layout Standard
Poniższe definicje pochodzą bezpośrednio z normy PN-EN 6100-4-7 
\begin_inset CommandInset citation
LatexCommand cite
key "normaFft"

\end_inset

.
\end_layout

\begin_layout Subsubsection*
Częstotliwość harmonicznej 
\begin_inset Formula $f_{n}$
\end_inset


\end_layout

\begin_layout Standard
Częstotliwość będąca całkowitą krotnością częstotliwości sieci zasilającej.
\end_layout

\begin_layout Subsubsection*
Rząd harmonicznej 
\begin_inset Formula $n$
\end_inset


\end_layout

\begin_layout Standard
Całkowity stosunek częstotliwości harmonicznej do częstotliwości sieci zasilając
ej.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna składowej harmonicznej 
\begin_inset Formula $G_{n}$
\end_inset


\end_layout

\begin_layout Standard
Wartość skuteczna jednej ze składowych o częstotliwości harmonicznej w analizie
 przebiegu niesinusoidalnego.
 Dla uproszczenia taką składową można skrótowo nazwać 
\begin_inset Quotes pld
\end_inset

harmoniczną
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna grupy harmonicznej 
\begin_inset Formula $G_{g,n}$
\end_inset


\end_layout

\begin_layout Standard
Pierwiastek kwadratowy z sumy kwadratów wartości skutecznej harmonicznej
 i sąsiadujących z nią składowych widmowych wyznaczonym w oknie czasowym.
 Jest to suma energii harmonicznej oraz energii sąsiednich linii.
 Rząd harmoniczny jest określany przez rozważaną harmoniczną.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna podgrupy harmonicznej 
\begin_inset Formula $G_{sg,n}$
\end_inset


\end_layout

\begin_layout Standard
Pierwiastek kwadratowy z sumy kwadratów skutecznych wartości harmonicznej
 i dwóch bezpośrednio z nią sąsiadujących składowych widmowych.
 W celu uwzględnienia wahań napięcia występujących podczas pomiaru podgrupa
 składowych wyjściowych DFT jest otrzymywana w efekcie sumowania energii
 składowych o częstotliwościach bezpośrednio sąsiadujących z daną harmoniczną
 i energii tej harmonicznej.
 Rząd harmoniczny jest określany za pomocą rozważanej harmonicznej.
\end_layout

\begin_layout Subsubsection*
Całkowity współczynnik odkształcenia 
\begin_inset Formula $THD$
\end_inset


\end_layout

\begin_layout Standard
Stosunek skutecznej wartości sumy wszystkich składowych harmonicznych (
\begin_inset Formula $G_{n}$
\end_inset

), sumowanych do określonego rzędu (
\begin_inset Formula $H$
\end_inset

), do skutecznej wartości składowej podstawowej (
\begin_inset Formula $G_{1}$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
THD=\sqrt{\stackrel[n=2]{H}{\sum}(\frac{G_{n}}{G_{1}})^{2}}\label{eq:THD-PN-EN}
\end{equation}

\end_inset


\end_layout

\begin_layout Subsubsection*
Całkowity współczynnik odkształcenia podgrup harmonicznych 
\begin_inset Formula $THDS$
\end_inset


\end_layout

\begin_layout Standard
Stosunek skutecznej wartości podgrup harmonicznych (
\begin_inset Formula $G_{sgn}$
\end_inset

) do skutecznej wartości podgrupy związanej ze składową podstawową (
\begin_inset Formula $G_{sg1}$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
THDS=\sqrt{\stackrel[n=2]{H}{\sum}(\frac{G_{sgn}}{G_{sg1}})^{2}}\label{eq:THDS}
\end{equation}

\end_inset


\end_layout

\begin_layout Section
Wymagania dotyczące pomiaru harmonicznych
\end_layout

\begin_layout Subsection
Metoda pomiaru
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Główny przyrząd powinien zawierać:
\end_layout

\begin_layout Itemize
obwody wejściowe z filtrem antyaliasingowym,
\end_layout

\begin_layout Itemize
przetwornik analogowo-cyfrowy,
\end_layout

\begin_layout Itemize
jednostkę synchronizującą (jeśli jest wymagana),
\end_layout

\begin_layout Itemize
procesor DFT.
\end_layout

\begin_layout Standard
Szerokość okna pomiarowego powinna wynosić 10 (dla systemów 50 Hz) lub 12
 (dla systemów 60 Hz) pełnych okresów sygnału.
\end_layout

\begin_layout Standard
Próbki powinny być ważone oknem prostokątnym.
 W przypadku utraty synchronizacji możliwe jest użycie okna Hanninga, musi
 to jednak zostać zasygnalizowane.
\end_layout

\begin_layout Standard
Okno czasowe powinno być zsynchronizowane z każdą grupą 10 lub 12 okresów.
 Czas pomiędzy pierwszą a 
\begin_inset Formula $N+1.$
\end_inset

 próbką powinien być równy czasowi trwania określonej liczby okresów napięcia
 w badanym systemie z maksymalnym błędem 
\begin_inset Formula $\pm$
\end_inset

0,03%.
\end_layout

\begin_layout Standard
Obwód wejściowy przyrządu powinien być przystosowany do zachowania charakterysty
ki przy napięciach wynoszących 1,2 napięcia maksymalnego sieci zasilającej.
\end_layout

\begin_layout Standard
Filtr antyaliasingowy powinien mieć tłumienie co najmniej 50 dB w paśmie
 zaporowym.
\end_layout

\begin_layout Standard
Współczynnik odkształcenia powinien być wyznaczony jako całkowity współczynnik
 odkształcenia podgrup harmonicznych dla 
\begin_inset Formula $H$
\end_inset


\begin_inset Formula $\geq$
\end_inset

50.
\end_layout

\begin_layout Standard
Dla celów pomiarów jakości energii elektrycznej pomiar THD powinien trwać
 ciągle przez 150/180 okresów lub przez 10 minut.
 Przerwy w akwizycji nie są dozwolone.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Współczynnik odkształcenia może być wyznaczony jako całkowity współczynnik
 odkształcenia podgrup harmonicznych lub jako całkowity współczynnik odkształcen
ia grup harmonicznych dla
\begin_inset Formula $H$
\end_inset


\begin_inset Formula $\geq$
\end_inset

40.
\end_layout

\begin_layout Standard
Pozostałe wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Subsection
Niepewność i zakres pomiaru
\end_layout

\begin_layout Subsubsection*
Klasa A
\end_layout

\begin_layout Standard
Dokładność pomiaru wartości skutecznej każdej z harmonicznych powinna wynosić
 
\begin_inset Formula $\pm5\%\:U_{m}$
\end_inset

 dla 
\begin_inset Formula $U_{m}\geq1\%\:U_{nom}$
\end_inset

 lub 
\begin_inset Formula $\pm0,05\%\:U_{nom}$
\end_inset

 dla 
\begin_inset Formula $U_{m}<1\%\:U_{nom}$
\end_inset

, gdzie 
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $U_{m}$
\end_inset

 - wartość mierzona,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $U_{nom}$
\end_inset

 - wartość znamionowa napięcia badanej sieci
\end_layout

\begin_layout Standard
Dokładność pomiaru THD nie jest sprecyzowana w normie.
\end_layout

\begin_layout Subsubsection*
Klasa S
\end_layout

\begin_layout Standard
Dokładność pomiaru wartości skutecznej każdej z harmonicznych powinna wynosić
 
\begin_inset Formula $\pm10\%\:U_{m}$
\end_inset

 dla 
\begin_inset Formula $U_{m}\geq3\%\:U_{nom}$
\end_inset

 lub 
\begin_inset Formula $\pm0,3\%\:U_{nom}$
\end_inset

 dla 
\begin_inset Formula $U_{m}<3\%\:U_{nom}$
\end_inset

.
 
\end_layout

\begin_layout Chapter
Implementacja przyrządu
\end_layout

\begin_layout Section
Założenia projektowe
\end_layout

\begin_layout Standard
Zadaniem budowanego przyrządu jest pomiar całkowitego współczynnika odkształceni
a podgrup harmonicznych THDS (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THDS"

\end_inset

) do 40.
 rzędu harmonicznego dla sygnałów okresowych o częstotliwości 50 Hz.
 Miernik ma spełniać główne założenia normy IEC 61000-4-30 dla takiego urządzeni
a.
 
\end_layout

\begin_layout Subsection
Zakres napięć wejściowych
\end_layout

\begin_layout Standard
Na potrzeby niniejszej pracy zdecydowano się przygotować układ współpracujący
 z sygnałami mieszczącymi się w zakresie 1-3V.
 Umożliwia to zbadanie wszystkich parametrów urządzenia przy pomocy sygnałów
 arbitralnych z generatora funkcyjnego.
 Przyłączenie do sieci nn jest możliwe, ale wymaga dodatkowej przystawki
 kondycjonującej sygnał i zabezpieczającej przed przepięciami, której projekt
 nie zawiera się w temacie pracy.
\end_layout

\begin_layout Subsection
Zasada działania
\end_layout

\begin_layout Standard
Urządzenie rozpoczyna pracę od pomiaru częstotliwości sygnału poprzez zliczanie
 okresów w 10-sekundowym oknie.
 Zliczanie odbywa się przy użyciu komparatora wbudowanego w mikrokontroler.
\end_layout

\begin_layout Standard
Kolejnym krokiem jest próbkowanie sygnału przez 10 okresów z częstotliwością
 próbkowania wyznaczoną na podstawie częstotliwości badanego sygnału.
 Bardzo istotna jest tu dokładność synchronizacji w celu minimalizacji przecieku
 DFT.
\end_layout

\begin_layout Standard
Po spróbkowaniu wyznaczana jest dyskretna transformata Fouriera przy użyciu
 algorytmu FFT Radix-2.
 Pomiar jest powtarzany dla 15 okien czasowych i uśredniany.
 Na podstawie widma sygnału wyznaczana jest wartość THD sygnału zgodnie
 z normą IEC 61000-4-30.
\end_layout

\begin_layout Standard
Ostatnim etapem działania jest prezentacja wyniku pomiaru na wyświetlaczu.
\end_layout

\begin_layout Subsection
Dobór filtra antyaliasingowego i parametrów DFT
\end_layout

\begin_layout Standard
Wybrany mikrokontroler posiada 16-bitowy przetwornik analogowo-cyfrowy,
 zdecydowano się jednak zmniejszyć rozdzielczość do 12 bitów jako wartości
 dającej wystarczająco wysoką dokładność pomiaru (rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Wpływ-rozdzielczości-przetwornik"

\end_inset

).
 Jako filtra antyaliasingowego użyto filtra Butterwortha 8.
 rzędu wykonanego w technologii SC.
 Częstotliwość graniczną filtra ustalono na 2500 Hz aby zapewnić płaską
 charakterystykę amplitudową w całym zakresie mierzonych częstotliwości.
\end_layout

\begin_layout Standard
Korzystając z równania (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:zakres-dynamiczny"

\end_inset

) wyznaczono zakres dynamiczny przetwornika: 
\begin_inset Formula 
\begin{equation}
Z_{D}=6,02n=6,02\cdot12=72,24\:dB\label{eq:ZakresDynamiczny}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Następnie przekształcając równanie (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:rzad-filtra"

\end_inset

) obliczono minimalną częstotliwość próbkowania:
\begin_inset Formula 
\begin{equation}
f_{s\:min}=2f_{gr}\cdot2^{\frac{Z_{D}}{6M}}=2\cdot2500\cdot2^{\frac{72,24}{6\cdot8}}=14191,23\:Hz
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Na tej podstawie wyznaczono minimalną liczbę próbek: 
\begin_inset Formula 
\begin{equation}
N_{min}=\lceil f_{s\,min}t_{s}\rceil=\lceil14191,23Hz\cdot0,2s\rceil=2839
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Ponieważ algorytm Radix-2 wymaga, aby liczba próbek była potęgą dwójki,
 należałoby pobrać 4096 próbek sygnału.
 Ponieważ jednak część pasma od 2,5 kHz do 
\begin_inset Formula $\frac{f_{s}}{2}$
\end_inset

 jest nieistotna w obliczeniach THD, zdecydowano się pozwolić na lekki aliasing
 w tych częstotliwościach przez pobieranie 2048 próbek na okno czasowe,
 co odpowiada 
\begin_inset Formula $f_{s}$
\end_inset

 = 10240 Hz dla sygnału o częstotliwości 50 Hz.
 Zabieg ten pozwala na znaczną redukcję wymaganej pamięci i czasu obliczeń.
 
\end_layout

\begin_layout Section
Użyte podzespoły
\end_layout

\begin_layout Subsection
Płytka rozwojowa FRDM-KL25Z
\end_layout

\begin_layout Standard
Opisywany przyrząd został zbudowany przy użyciu płytki rozwojowej FRDM-KL25Z
 firmy NXP.
 Zawiera ona mikrokontroler MKL25Z128VLK4, którego główne cechy to:
\end_layout

\begin_layout Itemize
rdzeń ARM Cortex-M0+,
\end_layout

\begin_layout Itemize
częstotliwość pracy 48 MHz,
\end_layout

\begin_layout Itemize
16 kB pamięci RAM,
\end_layout

\begin_layout Itemize
128 kB pamięci Flash,
\end_layout

\begin_layout Itemize
16-bitowy przetwornik A/C,
\end_layout

\begin_layout Itemize
wbudowane interfejsy: SPI, I2C, UART, USB
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/FRDM-KL25Z_BD.jpg
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Płytka rozwojowa FRDM-KL25Z
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

Płytka może być zasilana zewnętrznie napięciem z zakresu 4.5 - 9V lub przez
 port USB.
 Posiada także wbudowany programator i debugger OpenSDA.
 Wyprowadzone złącza typu goldpin pozwalają na łatwe przyłączanie urządzeń
 i sygnałów zewnętrznych.
\end_layout

\begin_layout Subsection
Filtr antyaliasingowy - układ MAX295
\end_layout

\begin_layout Standard
W zaprojektowanym urządzeniu jako filtr antyaliasingowy wykorzystany został
 układ MAX295 firmy Maxim Integrated.
 Układ ten jest scalonym filtrem Butterwortha 8.
 rzędu wykonanym w technologii SC.
 Jego częstotliwość graniczna może się znajdować w przedziale od 0.1Hz do
 25kHz i jest regulowana sygnałem zegarowym w proporcji 50:1.
\end_layout

\begin_layout Standard
Układ znajduje się w obudowie DIP-8 i może być zasilany symetrycznie napięciem
 
\begin_inset Formula $\pm$
\end_inset

5V lub asymetrycznie napięciem +5V, w tym drugim przypadku wymaga jednak
 sztucznej masy w połowie napięcia zasilania tworzonej przy pomocy dzielnika
 rezystorowego i dodatkowych kondensatorów odsprzęgających.
\end_layout

\begin_layout Standard
Filtr ten posiada niskie szumy pochodzące od przełączania pojemności, wynoszące
 poniżej -70dB, jednak producent zaleca stosowanie na wyjściu układu dodatkowego
 filtra Butterwortha 2.
 rzędu.
 W tym celu MAX295 posiada wbudowany wzmacniacz operacyjny, nie jest więc
 wymagany dodatkowy układ scalony.
 
\begin_inset CommandInset citation
LatexCommand cite
key "MAX295"

\end_inset


\end_layout

\begin_layout Subsection
Pamięć zewnętrzna - układ 23LCV1024
\end_layout

\begin_layout Standard
Z powodu ograniczonej pojemności pamięci RAM mikrokontrolera zdecydowano
 się użyć układu 23LCV1024 firmy Microchip.
 Jest to pamięć SRAM o pojemności 128kB komunikująca się z mikrokontrolerem
 przez magistralę SPI z maksymalną częstotliwością 20MHz.
 Układ znajduje się w obudowie DIP-8 i może być zasilany napięciem z zakresu
 2,5 - 5,5V.
\end_layout

\begin_layout Subsection
Wyświetlacz OLED SSD1306
\end_layout

\begin_layout Standard
Do prezentacji wyniku pomiaru wykorzystano wyświetlacz OLED z kontrolerem
 SSD1306.
 Jest to wyświetlacz monochromatyczny o rozdzielczości 128x64 piksele i
 przekątnej 0,96''.
 Do komunikacji z mikrokontrolerem wykorzystuje interfejs I2C.
\end_layout

\begin_layout Standard
Wyświetlacz pomimo małych rozmiarów umożliwia czytelną prezentację bardzo
 dużej ilości informacji.
 Szeroki dostęp do otwartych bibliotek dla tego wyświetlacza pozwala na
 jego szybką i łatwą implementację w systemie pomiarowym.
\end_layout

\begin_layout Subsection
Płytka drukowana
\end_layout

\begin_layout Standard
Filtr antyaliasingowy wraz z towarzyszącymi elementami biernymi, pamięć
 RAM oraz wyświetlacz zostały umieszczone na specjalnie przygotowanej płytce
 drukowanej.
 Rozwiązanie to zapewnia redukcję szumów oraz pozwala na wygodne podłączanie
 badanego sygnału.
 Płytka została wykonana jako tzw.
 header na FRDM-KL25Z dzięki czemu uniknięto konieczności stosowania dodatkowych
 przewodów połączeniowych.
\end_layout

\begin_layout Standard
Projekt płytki został przygotowany w programie Altium Designer, zaś sama
 płytka została samodzielnie wytrawiona w nadsiarczanie miedzi.
\end_layout

\begin_layout Section
Działanie przyrządu
\end_layout

\begin_layout Subsection
Algorytm ogólny
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_Algorytm ogólny.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Algorytm działania przyrządu
\begin_inset CommandInset label
LatexCommand label
name "fig:Algorytm-działania-przyrządu"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Praca urządzenia rozpoczyna się od inicjalizacji sprzętu oraz obliczenia
 wartości funkcji okna.
 Następnie program czeka na zgodę użytkownika na wykonanie pomiaru.
 
\end_layout

\begin_layout Standard
Pomiar THD rozpoczyna się od pomiaru częstotliwości badanego sygnału.
 W tym celu przez 10 sekund zliczana jest liczba przejść przez zero przy
 pomocy komparatora wbudowanego w mikrokontroler.
 Znając częstotliwość sygnału program oblicza wymaganą częstotliwość próbkowania.
 Następnie pobierane jest 2048 próbek 10 okresów badanego sygnału.
 Spróbkowany sygnał jest okienkowany w celu redukcji przecieku, a następnie
 wyznacza się jego DFT.
 
\end_layout

\begin_layout Standard
Proces próbkowania i obliczania DFT powtarzany jest 15 razy, a wynik transformat
y jest uśredniany po każdej iteracji.
 Ostatnim etapem jest obliczenie THD na podstawie widma amplitudowego sygnału
 oraz prezentacja wyniku na wyświetlaczu.
\end_layout

\begin_layout Standard
Po zaprezentowaniu wyniku urządzenie wraca do oczekiwania na żądanie wykonania
 kolejnego pomiaru.
\end_layout

\begin_layout Subsection
Inicjalizacja
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_Inicjalizacja.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Inicjalizacja przyrządu
\begin_inset CommandInset label
LatexCommand label
name "fig:Inicjalizacja-przyrządu"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Po uruchomieniu urządzenia pierwszym krokiem jest włączenie zegara filtra
 antyaliasingowego.
 Wykorzystywane jest do tego wyjście PWM mikrokontrolera ustawiane na częstotliw
ość 125kHz i wypełnienie 50%.
\end_layout

\begin_layout Standard
Następnym etapem jest programowe zwarcie wszystkich nieużywanych pinów ADC
 do masy w celu redukcji zakłóceń.
 Piny I/O są domyślnie ustawione jako wejścia cyfrowe, przez co mogą zadziałać
 jak antena i zebrać zakłócenia z otoczenia, które następnie mogą zostać
 przeniesione na przetwornik analogowo - cyfrowy.
 Aby tego uniknąć wszystkie piny podłączone do ADC ustawia się jako wyjścia
 cyfrowe w stanie logicznego zera, co powoduje fizyczne zwarcie ich do masy
 układu.
\end_layout

\begin_layout Standard
Ostatnią czynnością jest obliczenie wartości funkcji okna Blackmana (patrz
 rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Wpływ-funkcji-okna"

\end_inset

) dla 2048-elementowego ciągu danych.
 Ze względu na znaczący rozmiar (8kB) wartości te są przechowywane w zewnętrznej
 pamięci RAM.
\end_layout

\begin_layout Standard
Po zakończeniu inicjalizacji urządzenie oczekuje na decyzję użytkownika
 o rozpoczęciu pomiaru.
 Interfejsem umożliwiającym komunikację z urządzeniem jest tutaj pasek dotykowy
 umieszczony na płytce KL25Z.
 Dotknięcie go powoduje rozpoczęcie procedury pomiarowej.
\end_layout

\begin_layout Subsection
Pomiar częstotliwości
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_Pomiar częstotliwości.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Algorytm pomiaru częstotliwości
\begin_inset CommandInset label
LatexCommand label
name "fig:Algorytm-pomiaru-częstotliwości"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Procedura pomiarowa rozpoczyna się od pomiaru częstotliwości badanego sygnału.
 Metoda pomiaru jest zgodna z normą IEC6100-4-30 i polega na zliczaniu liczby
 okresów sygnału w 10-sekundowym oknie.
 
\begin_inset CommandInset citation
LatexCommand cite
key "normaJakosc"

\end_inset


\end_layout

\begin_layout Standard
Program inicjalizuje zmienne przechowujące licznik okresów (CompCounter)
 oraz czas pomiaru (CompTime), a następnie uruchamia timer oraz komparator.
 Wejście odwracające komparatora zostaje podłączone do wbudowanego 6-bitowego
 przetwornika cyfrowo - analogowego ustawionego na wartość 2V (połowa dozwoloneg
o zakresu sygnału).
 W celu uniknięcia fałszywych zliczeń przy silnie odkształconych sygnałach
 włączany jest programowy filtr udostępniany w bibliotece komparatora.
 
\end_layout

\begin_layout Standard
Następnie program czeka, aż wartość timera wyniesie 10 sekund.
 W tym czasie w momencie wykrycia zbocza narastającego na wyjściu komparatora
 mikrokontroler uruchamia procedurę przerwania ISR_Comp.
 Przy pierwszym zboczu jej zadaniem jest zresetowanie timera, a przy każdym
 kolejnym zapis aktualnej wartości timera do zmiennej CompTime oraz inkrementowa
nie zmiennej CompCounter.
 Celem resetu oraz zapisywania wartości timera przy każdym zboczu jest jak
 najbardziej precyzyjny pomiar czasu trwania zliczanej liczby okresów sygnału.
\end_layout

\begin_layout Standard
Po upłynięciu 10 sekund program zatrzymuje działanie timera i komparatora,
 a następnie bazując na wartościach CompCounter i CompTime wyznacza częstotliwoś
ć sygnału.
\end_layout

\begin_layout Subsection
Próbkowanie
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_Próbkowanie.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Algorytm procesu próbkowania
\begin_inset CommandInset label
LatexCommand label
name "fig:Algorytm-procesu-próbkowania"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Znając częstotliwość sygnału program wyznacza odpowiednią częstotliwość
 próbkowania.
 Konieczne jest zebranie 2048 próbek w trakcie 10 okresów sygnału, zatem
 okres próbkowania jest równy okresowi sygnału podzielonemu przez 204,8.
\end_layout

\begin_layout Standard
Do pobierania próbek z zadaną częstotliwością wykorzystywany jest ticker
 bazujący na układzie PIT (Periodic Interval Timer) mikrokontrolera.
 Po każdorazowym zliczeniu impulsów zegara do wartości odpowiadającej okresowi
 próbkowania uruchamiana jest procedura przerwania ISR_ticker, podczas której
 program pobiera próbkę z przetwornika cyfrowo - analogowego, zapisuje jej
 wartość w zewnętrznej pamięci RAM oraz inkrementuje licznik próbek.
\end_layout

\begin_layout Standard
Po zebraniu odpowiedniej liczby próbek ticker jest wyłączany a program przechodz
i do kolejnego etapu.
\end_layout

\begin_layout Subsection
DFT i wyznaczenie THD 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_FFT.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Algorytm wyznaczania wartości THD
\begin_inset CommandInset label
LatexCommand label
name "fig:Algorytm-wyznaczania-wartości"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Mając spróbkowany sygnał program przechodzi do wykonywania właściwych obliczeń.
 Na początku próbki są mnożone przez wyznaczoną wcześniej funkcję okna Blackmana
, co pozwala na redukcję przecieku DFT.
 Częstotliwość próbkowania jest dość wysoka - próbka jest pobierana co ok.
 2000 impulsów zegara, a każda najmniejsza odchyłka od idealnej częstotliwości
 próbkowania przemnożona przez 2048 próbek prowadzi do znacznego odchylenia
 wartości 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

 od wartości całkowitej, co skutkuje powstaniem przecieku (patrz rozdział
 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Przeciek"

\end_inset

).
\end_layout

\begin_layout Standard
Algorytm Radix-2 wykorzystany w tym urządzeniu wymaga podania na wejściu
 próbek w odpowiedniej kolejności 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

.
 Kolejnym etapem jest zatem przemieszanie próbek znajdujących się w pamięci
 w celu ułatwienia implementacji algorytmu.
\end_layout

\begin_layout Standard
Po przemieszaniu próbek wyznaczana jest dyskretna transformata Fouriera.
 Do jej implementacji wykorzystano algorytm Radix-2, wzorowano się zaś na
 kodzie w języku MATLAB umieszczonym w pozycji 
\begin_inset CommandInset citation
LatexCommand cite
key "Zielinski"

\end_inset

.
 Wynikiem obliczeń jest moduł widma amplitudowego badanego sygnału o rozdzielczo
ści 5Hz.
\end_layout

\begin_layout Standard
Proces pobierania próbek i wyznaczania DFT jest powtarzany 15 razy, a wyniki
 obliczeń zostają uśrednione.
 Ma to na celu poprawę dokładności wyniku przez redukcję szumów (patrz rozdział
 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Wpływ-uśredniania-na"

\end_inset

).
\end_layout

\begin_layout Standard
Na podstawie otrzymanego widma wyznaczana jest ostatecznie jego wartość
 THDS zgodnie z definicją (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THDS"

\end_inset

) 
\begin_inset CommandInset citation
LatexCommand cite
key "normaFft"

\end_inset

.
\end_layout

\begin_layout Subsection
Prezentacja wyników
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Algorytmy/cropped_Wynik.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Zakończenie pomiaru
\begin_inset CommandInset label
LatexCommand label
name "fig:Zakończenie-pomiaru"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Po zakończeniu obliczeń wartość THD oraz częstotliwość sygnału są prezentowane
 na wyświetlaczu.
 Urządzenie następnie rozpoczyna oczekiwanie na żądanie rozpoczęcia kolejnego
 pomiaru.
\end_layout

\begin_layout Chapter
Badanie parametrów przyrządu
\end_layout

\begin_layout Section
Symulacje
\end_layout

\begin_layout Subsection
Wpływ rozdzielczości przetwornika A/C na wynik pomiaru
\begin_inset CommandInset label
LatexCommand label
name "subsec:Wpływ-rozdzielczości-przetwornik"

\end_inset


\end_layout

\begin_layout Standard
Mikrokontroler wbudowany w płytkę KL25Z posiada 16-bitowy przetwornik analogowo-
cyfrowy.
 Rozdzielczość przetwornika można jednak ustawić na jedną z wartości: 8,
 10, 12 lub 16 bitów.
 Zwiększenie rozdzielczości powoduje wzrost dokładności pomiaru, jednak
 znacząco zwiększa czas konwersji.
 Czasy konwersji dla poszczególnych wariantów rozdzielczości przedstawiono
 w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Czasy-konwersji-dla"

\end_inset

.
 [wstaw przypis!]
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozdzielczość
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas konwersji
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8 bitów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
13μs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10 bitów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15,3μs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
12 bitów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17,3μs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16 bitów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21,7μs
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Czasy konwersji dla różnych wartości rozdzielczości przetwornika A/C 
\begin_inset CommandInset label
LatexCommand label
name "tab:Czasy-konwersji-dla"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla sygnału o częstotliwości 57,5Hz próbki muszą być pobierane co ok.
 85μs.
 Biorąc pod uwagę, że na cykl pobrania próbki składa się konwersja A/C oraz
 zapis do zewnętrznego układu pamięci, a także fakt, że wykorzystana biblioteka
 mbed posiada duży narzut kodu, różnice w czasach dla poszczególnych rozdzielczo
ści stają się znaczące.
 
\end_layout

\begin_layout Standard
W celu zbadania wpływu rozdzielczości przetwornika A/C na końcowy wynik
 pomiaru przeprowadzono symulację w środowisku MATLAB.
 Program rozpoczynał się od wygenerowania 100 przebiegów sinusoidalnych
 z losową wartością przesunięcia fazowego.
 Następnie każdy z przebiegów był kwantowany w dziedzinie wartości z zadaną
 rozdzielczością.
 Dla tak przygotowanych sygnałów wyznaczano ich FFT, a na tej podstawie
 wartość THD zgodnie z równaniem (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THDS"

\end_inset

).
 Dla każdej rozdzielczości otrzymano zatem 100 wartości THD, które zostały
 uśrednione.
 Końcowy wynik przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wpływ-rozdzielczości-przetwornik"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Sim_Kwantyzacja.eps

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wpływ rozdzielczości przetwornika A/C na wynik pomiaru THD
\begin_inset CommandInset label
LatexCommand label
name "fig:Wpływ-rozdzielczości-przetwornik"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Jak widać, dla przetwornika 8-bitowego średni błąd pomiaru wynosi 0.1%, zaś
 dla wyższych rozdzielczości błąd maleje wykładniczo.
 Dla przetwornika 12-bitowego średni błąd wynosi już poniżej 0.01%, zatem
 właśnie tę rozdzielczość zdecydowano się wykorzystać w projekcie.
 Pozwoliło to na znaczną redukcję czasu konwersji kosztem wprowadzenia znikomego
 błędu kwantyzacji.
\end_layout

\begin_layout Subsection
Wpływ precyzji częstotliwości próbkowania na wynik pomiaru
\end_layout

\begin_layout Standard
Jak zostało wspomniane w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Przeciek"

\end_inset

 każde odchylenie wartości 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

 od wartości całkowitej skutkuje powstaniem szkodliwego przecieku DFT.
 Ponieważ czas mierzony przez mikrokontroler jest wyrażany w taktach zegara,
 a zatem jest skwantowany z mniejszą lub większą dokładnością, nie ma możliwości
 idealnego dopasowania częstotliwości próbkowania do częstotliwości przebiegu.
 Zatem zawsze należy się liczyć z obecnością przecieku i dążyć do jego zniwelowa
nia już na etapie projektowania systemu pomiarowego.
\end_layout

\begin_layout Standard
Przykładowo, dla zegara 24MHz, czyli maksymalnego dostępnego dla KL25Z,
 niepewność pomiaru czasu pobrania pojedynczej próbki wynosi:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta T_{s}=\frac{1}{f_{clk}}=\frac{1}{24MHz}=41,7ns
\end{equation}

\end_inset

Przekładając to na całość 2048-punktowego ciągu otrzymujemy odchyłkę od
 pożądanego czasu próbkowania wynoszącą:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta t_{s}=N\Delta T_{s}=85,3\mu s\label{eq:Delta-ts}
\end{equation}

\end_inset

co dla częstotliwości badanego sygnału równej 57,5Hz odpowiada jednemu okresowi
 próbkowania.
 Dla porównania, dla zegara 1MHz, który jest standardowy w bibliotece mbed,
 wartości te wynoszą:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta T_{s}=\frac{1}{f_{clk}}=\frac{1}{1MHz}=1\mu s
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta t_{s}=N\Delta T_{s}=2,05ms
\end{equation}

\end_inset

czyli równowartość aż 24 okresów próbkowania.
\end_layout

\begin_layout Standard
W celu zbadania wpływu tego zjawiska na wynik pomiaru przygotowano symulację
 w środowisku MATLAB.
 Badania przeprowadzano na sygnale wygenerowanym na podstawie rozwinięcia
 szeregu Fouriera dla sygnału prostokątnego: 
\begin_inset CommandInset citation
LatexCommand cite
key "FourierProstokat"

\end_inset


\begin_inset Formula 
\begin{equation}
f(x)=\frac{4}{\pi}\stackrel[n=1,3,5...]{\infty}{\sum}\frac{1}{n}sin\left(\frac{n\pi x}{L}\right)
\end{equation}

\end_inset

gdzie:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
n - rząd harmonicznej,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
L - połowa okresu sygnału.
\end_layout

\begin_layout Standard
Sygnał został wygenerowany do 40.
 harmonicznej.
 Jego przebieg przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Przebieg-prostokątny-wygenerowan"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Sim_DokładnośćPróbkowania_sygnał.eps
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Przebieg prostokątny wygenerowany z rozwinięcia szeregu Fouriera
\begin_inset CommandInset label
LatexCommand label
name "fig:Przebieg-prostokątny-wygenerowan"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

Następnie sygnał ten był generowany ponownie z wektorami czasu skracanymi
 o wielokrotności pojedynczego okresu próbkowania, co miało na celu zasymulowani
e różnych wartości odchyłki zegara.
 Na koniec dla każdego z sygnałów obliczono jego THD zgodnie z definicją
 (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THDS"

\end_inset

).
 Wyniki symulacji przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Zmiana-THD-w"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Sim_DokładnośćPróbkowania_10.eps

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Zmiana THD w funkcji odchyłki czasu próbkowania.
 Czerwoną linią oznaczono wartość oczekiwaną
\begin_inset CommandInset label
LatexCommand label
name "fig:Zmiana-THD-w"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Jak widać, już dla odchyłki wynoszącej jeden okres próbkowania, czyli występując
ej przy zegarze 24MHz, pojawia się odchyłka wynosząca 0,29% wartości oczekiwanej.
 Powtarzając symulację dla szerszego zakresu odchyłek widać jak gwałtownie
 spada dokładność pomiaru THD wraz ze wzrostem niepewności pomiaru czasu:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Sim_DokładnośćPróbkowania_100.eps

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Zmiana THD w funkcji odchyłki czasu próbkowania - szerszy zakres
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla odchyłki wynoszącej 24 okresy próbkowania (odpowiednik zegara 1MHz)
 błąd wynosi już 9,2%, zaś dla 100 okresów próbkowania aż 26,6%.
 Wyniki te pokazują jak bardzo istotna jest precyzja zegara przy cyfrowych
 pomiarach widma sygnałów.
\end_layout

\begin_layout Section
Pomiary
\end_layout

\begin_layout Subsection
Badanie filtra antyaliasingowego
\begin_inset CommandInset label
LatexCommand label
name "subsec:Badanie-filtra-antyaliasingowego"

\end_inset


\end_layout

\begin_layout Standard
Do zbadania charakterystyki amplitudowej filtra antyaliasingowego w zbudowanym
 urządzeniu wykorzystano generator arbitralny Rigol DG1022 oraz multimetr
 TrueRMS UT61E.
 Pomiar polegał na zmianie częstotliwości w zakresie 10Hz - 10kHz oraz pomiarze
 napięcia na wejściu i wyjściu filtra dla każdej z nich.
\end_layout

\begin_layout Standard
Wynik pomiaru jest widoczny na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Charakterystyka-amplitudowa-filt"

\end_inset

.
 Niestety, dla częstotliwości powyżej 6,5kHz napięcie na wyjściu było już
 tak małe, że dalszy pomiar był bezsensowny.
 Zastosowano zatem funkcję Curve Fitting środowiska MATLAB do aproksymowania
 charakterystyki w zakresie 3-10kHz.
 Otrzymano równanie aproksymujące w postaci: 
\begin_inset Formula 
\begin{equation}
H(f)=16870f^{-0,6082}-140,4\label{eq:Aproksymacja}
\end{equation}

\end_inset

Charakterystyka aproksymowana została naniesiona na zmierzoną jako czerwona
 przerywana linia na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Charakterystyka-amplitudowa-filt"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/charakterystyka filtra.eps

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Charakterystyka amplitudowa filtra antyaliasingowego
\begin_inset CommandInset label
LatexCommand label
name "fig:Charakterystyka-amplitudowa-filt"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Wymagane tłumienie 72,24dB (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:ZakresDynamiczny"

\end_inset

) otrzymano dla częstotliwości 8620Hz.
 Dla sygnału o częstotliwości 42,5Hz częstotliwość próbkowania wynosi 
\begin_inset Formula 
\begin{equation}
f_{s}=\frac{42,5\cdot2048}{10}=8704kHz
\end{equation}

\end_inset

co przekłada się na częstotliwość Nyquista równą 
\begin_inset Formula 
\begin{equation}
f_{N}=\frac{f_{s}}{2}=4325Hz.
\end{equation}

\end_inset

Częstotliwość próbkowania jest znacznie wyższa od częstotliwości Nyquista,
 dojdzie więc do zjawiska aliasingu.
\end_layout

\begin_layout Standard
Rozpatrzmy skrajną część pasma przenoszenia.
 Na prążek odpowiadający częstotliwości 2kHz nałoży się prążek odpowiadający
 częstotliwości 
\begin_inset Formula 
\begin{equation}
f_{a}=f_{N}+(f_{N}-2000Hz)=6704Hz
\end{equation}

\end_inset

Wyznaczmy następnie tłumienie dla tej częstotliwości korzystając z wzoru
 (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:Aproksymacja"

\end_inset

):
\begin_inset Formula 
\begin{equation}
H(f_{a})=-60,98dB
\end{equation}

\end_inset

co odpowiada tłumieniu ok.
 1000 razy.
 Minimalna wartość rejestrowana przez przetwornik wynosi 
\begin_inset Formula 
\begin{equation}
\frac{3,3V}{2^{12}}=805,7\mu V
\end{equation}

\end_inset

Zatem wszystkie zakłócenia o amplitudzie poniżej 806mV nie powinny mieć
 wpływu na wynik pomiaru.
\end_layout

\begin_layout Standard
Niepokojącą kwestią było tłumienie sygnału o ok.
 2% w niskich częstotliwościach i wzmacnianie o ok.
 1% w wysokich częstotliwościach pasma przenoszenia.
 Przyczyną tego są prawdopodobnie odchyłki w wartościach elementów dyskretnych
 użytych do budowy drugiego stopnia filtra.
 Zjawisko to może doprowadzić do przekłamania wyników dla sygnałów o dużej
 zawartości harmonicznych wysokich rzędów.
\end_layout

\begin_layout Subsection
Wpływ funkcji okna na wynik pomiaru
\begin_inset CommandInset label
LatexCommand label
name "subsec:Wpływ-funkcji-okna"

\end_inset


\end_layout

\begin_layout Standard
Norma PN-EN 6100-4-7 nakazuje, aby czas od pobrania pierwszej do pobrania
 ostatniej próbki w pojedynczym oknie pomiarowym różniła się maksymalnie
 o 0,03% od czasu trwania 10 pełnych okresów sygnału.
 Zgodnie z równaniem (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:Delta-ts"

\end_inset

) w zbudowanym urządzeniu dla częstotliwości 57,5Hz różnica ta wyniesie:
 
\begin_inset Formula 
\begin{equation}
\frac{\Delta t_{s}}{t_{sampling}}=\frac{85,3\mu s}{\frac{1}{57,5Hz}\cdot10}\cdot100\%=0,05\%
\end{equation}

\end_inset

W tym przypadku uzasadnione jest wykorzystanie funkcji okna do zredukowania
 przecieku DFT.
\end_layout

\begin_layout Standard
W celu określenia wpływu różnych funkcji okien na wynik pomiaru przeprowadzono
 po 100 pomiarów dla pojedynczych 10-okresowych okien pomiarowych (bez uśrednian
ia) dla sygnału sinusoidalnego i prostokątnego.
 Dla tak otrzymanych serii obliczono wartości średnie i odchylenia standardowe.
 Wynik badania przedstawiono w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Wpływ-funkcji-okna"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sinusoida 
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Prostokąt 
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\mu$
\end_inset

[%]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sigma$
\end_inset

[%]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\mu$
\end_inset

[%]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sigma$
\end_inset

[%]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Prostokątne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,5059
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,1226
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
46,7890
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0278
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hamminga
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,1570
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0380
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
47,3098
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0108
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hanninga
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,1387
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0588
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
47,2760
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0109
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Blackmana
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,1373
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0167
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
47,2182
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0,0145
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wpływ funkcji okna na wynik pomiaru dla sygnału sinusoidalnego (THD = 0,00%)
 i prostokątnego (THD = 47,03%)
\begin_inset CommandInset label
LatexCommand label
name "tab:Wpływ-funkcji-okna"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Jak widać, wprowadzenie do pomiaru funkcji okna znacznie poprawiło jego
 dokładność.
 Najlepszy wynik osiągnęło jednak nie sugerowane przez normę okno Hanninga,
 a okno Blackmana.
 Dla sygnału sinusoidalnego cechowało się ono najlepszą powtarzalnością
 i wartością średnią najbardziej zbliżoną do oczekiwanej.
 W przypadku sygnału prostokątnego okna Hamminga i Hanninga osiągnęły nieznaczni
e lepszą powtarzalność, jednak kosztem większej odchyłki od wartości oczekiwanej.
\end_layout

\begin_layout Standard
Biorąc pod uwagę powyższe rezultaty zdecydowano się na implementację w przyrządz
ie okienkowania przy pomocy funkcji okna Blackmana.
\end_layout

\begin_layout Subsection
Wpływ uśredniania na wynik pomiaru
\begin_inset CommandInset label
LatexCommand label
name "subsec:Wpływ-uśredniania-na"

\end_inset


\end_layout

\begin_layout Standard
Według normy IEC 6100-4-30 pomiar powinien powstać z uśrednienia 15 lub
 3000 10-okresowych okien pomiarowych.
 Ponieważ ze względu na bardzo długi czas wykonywania obliczeń przez zbudowany
 przyrząd ta druga wartość jest praktycznie nieosiągalna zdecydowano się
 zastosować uśrednianie 15 pojedynczych pomiarów.
\end_layout

\begin_layout Standard
W celu zbadania wpływu uśredniania na wynik pomiaru przeprowadzono test
 polegający na wykonaniu serii 100 pomiarów dla kilku wartości uśredniania.
 Badanie przeprowadzono dla sygnału sinusoidalnego i prostokątnego.
 Dla każdej z serii wyznaczono jej odchylenie standardowe i wartość średnią.
 Wyniki przedstawiono na rysunkach 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wpływ-uśredniania-sin"

\end_inset

 i 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wpływ-uśredniania-sqr"

\end_inset

.
 Czerwoną przerywaną linią zaznaczono wartości oczekiwane.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/AveragingSine.eps
	scale 65

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Wpływ uśredniania dla sygnału sinusoidalnego
\begin_inset CommandInset label
LatexCommand label
name "fig:Wpływ-uśredniania-sin"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla sygnału sinusoidalnego widać asymptotyczny spadek błędu wraz ze wzrostem
 liczby uśrednień, przy czym dla wartości powyżej 15 różnice są już znikome.
 Uśrednianie ma również bardzo dobry wpływ na powtarzalność pomiaru - pozwala
 zredukować rozrzut ponad czterokrotnie.
\end_layout

\begin_layout Standard
Wartość średnia dąży do wartości 0.04% zamiast do zera.
 Może być to spowodowane występowaniem błędu kwantyzacji oraz małą precyzją
 wygenerowanego sygnału sinusoidalnego.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/AveragingSquare.eps
	scale 65

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wpływ uśredniania dla sygnału prostokątnego
\begin_inset CommandInset label
LatexCommand label
name "fig:Wpływ-uśredniania-sqr"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla sygnału prostokątnego wpływ uśredniania na wartość średnią jest już
 znikomy, natomiast wciąż widoczna jest ponad czterokrotna redukcja rozrzutu.
\end_layout

\begin_layout Standard
W przypadku sygnału silnie odkształconego jakim jest sygnał prostokątny
 widoczna jest już dość duża odchyłka od wartości oczekiwanej.
 Jest to wywołane wadliwym działaniem filtra antyaliasingowego, który w
 paśmie przenoszenia lekko podbija wyższe częstotliwości względem niskich
 (patrz rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Badanie-filtra-antyaliasingowego"

\end_inset

).
\end_layout

\begin_layout Subsection
Porównanie z rozwiązaniami komercyjnymi
\end_layout

\begin_layout Chapter
Podsumowanie i wnioski
\end_layout

\begin_layout Chapter*
Załącznik A - Szczegółowe wyniki pomiarów
\end_layout

\begin_layout Chapter*
Załącznik B - Pliki nagłówkowe klas programu
\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
btprint "btPrintAll"
bibfiles "bibliografia"
options "bibtotoc,IEEEtran"

\end_inset


\end_layout

\end_body
\end_document
