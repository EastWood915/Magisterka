#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass aghdpl
\begin_preamble
% \documentclass{aghdpl}               % przy kompilacji programem latex
% \documentclass[pdflatex,en]{aghdpl}  % praca w języku angielskim
% dodatkowe pakiety
\usepackage{enumerate}
\usepackage{listings}
% Numeracja po kolei rysunkow, tabel i wzorow
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}
%
\lstloadlanguages{TeX}
\usepackage{caption} 
\captionsetup[figure]{labelformat=simple, labelsep=period}
\captionsetup[table]{labelformat=simple, labelsep=period}
\captionsetup[algorithm]{labelformat=simple, labelsep=period}
%\captionsetup{font=small}
\captionsetup{margin=10pt, font={small}, labelfont=bf, format=hang}
\usepackage{esint}
\clubpenalty = 10000
\widowpenalty = 10000
%\usepackage{graphicx}
%\usepackage{grfext}
%\AtBeginDocument{%
% \PrependGraphicsExtensions*{
%    .mps,.MPS,.pdf,.PDF,.eps,.EPS,.ps,.PS,
%    .png,.PNG,.jpg,.jpeg,.JPG,.JPEG,
%    .funny,.foobar
%  }%
%  \PrintGraphicsExtensions % see .log file
%}
% \usepackage[style=numeric-comp]{biblatex}
% \setlength{\itemsep}{-1\parsep}
%---------------------------------------------------------------------------
%\usepackage{epstopdf}
\end_preamble
\options pdflatex
\use_default_options true
\maintain_unincluded_children false
\language polish
\language_package default
\inputencoding iso8859-2
\fontencoding global
\font_roman "utopia" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics none
\default_output_format default
\output_sync 0
\bibtex_command bibtex
\index_command default
\float_placement H
\paperfontsize 12
\spacing onehalf
\use_hyperref true
\pdf_title "dyplom"
\pdf_author "Imie Nazwisko"
\pdf_subject "Temat"
\pdf_keywords "słowa kluczowe"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 2
\pdf_breaklinks true
\pdf_pdfborder true
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry false
\use_package amsmath 0
\use_package amssymb 0
\use_package cancel 1
\use_package esint 0
\use_package mathdots 0
\use_package mathtools 1
\use_package mhchem 0
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style bst/IEEEtran
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Indeks
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "language={C++},alsolanguage={bash},breaklines=true,fontadjust=true,numberstyle={\tiny},stepnumber=1,numbersep={-7pt},numbers=right,numberstyle={\tiny},backgroundcolor={\color{cream}},basicstyle={\small}"
\tracking_changes false
\output_changes false
\html_math_output 3
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
author{Wojciech Zieliński}
\end_layout

\begin_layout Plain Layout


\backslash
shortauthor{W.
 Zieliński}
\end_layout

\begin_layout Plain Layout


\backslash
titlePL{Analiza właściwości miernika do pomiaru THD sygnałów napięciowych}
\end_layout

\begin_layout Plain Layout

%
\backslash
titleEN{LyX Dissertation Template}
\end_layout

\begin_layout Plain Layout


\backslash
shorttitle{Analiza właściwości miernika do pomiaru THD sygnałów napięciowych}
\end_layout

\begin_layout Plain Layout


\backslash
faculty{Wydział Elektrotechniki, Automatyki,
\backslash

\backslash
Informatyki i Inżynierii Biomedycznej}
\end_layout

\begin_layout Plain Layout


\backslash
division{Katedra Metrologii i Elektroniki}
\end_layout

\begin_layout Plain Layout


\backslash
specialization{Elektrotechnika}
\end_layout

\begin_layout Plain Layout


\backslash
thesistype{Praca dyplomowa magisterska}
\end_layout

\begin_layout Plain Layout


\backslash
supervisor{dr hab.
 inż.
 Ryszard Sroka, prof.
 AGH}
\end_layout

\begin_layout Plain Layout


\backslash
acknowledgements{Wymaga odkomentowania linijek w aghdpl.cls} 
\end_layout

\begin_layout Plain Layout

%
\backslash
date{2015} 
\end_layout

\begin_layout Plain Layout


\backslash
titlepages
\end_layout

\begin_layout Plain Layout


\backslash
setcounter{tocdepth}{3}
\end_layout

\begin_layout Plain Layout

%Te linijki zamieniaja Tabela i Rysunek na Tab.
 i Rys.
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
tablename}{Tab.}
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
figurename}{Rys.}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
Podstawowe definicje
\end_layout

\begin_layout Section
Sygnały i ich parametry
\end_layout

\begin_layout Subsection
Definicja sygnału okresowego
\end_layout

\begin_layout Standard
Sygnałem nazywa się zmienność danej wielkości fizycznej w funkcji jednej
 lub wielu zmiennych.
 W pomiarach elektrycznych najczęściej obserwujemy zmienność napięcia, natężenia
, bądź częstotliwości w funkcji czasu.
 Każdy sygnał posiada nośnik oraz niesie jakąś informację.
 Przykładem nośnika może być przemienne napięcie elektryczne, zaś informacją
 przez niego niesioną może być zmiana amplitudy lub częstotliwości tego
 napięcia.
\end_layout

\begin_layout Standard
Jeśli dany sygnał można zamodelować funkcją 
\begin_inset Formula $f(t)=f(t+kT)$
\end_inset

, gdzie 
\begin_inset Formula $k$
\end_inset

 jest liczbą naturalną, to jest on nazywany sygnałem okresowym o okresie
 
\begin_inset Formula $T$
\end_inset

 oraz częstotliwości 
\begin_inset Formula $f=\frac{1}{T}$
\end_inset

.
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

 Najprostszym przykładem sygnału okresowego jest sygnał sinusoidalny 
\begin_inset Formula $f(t)=sin(2\pi f\cdot t)$
\end_inset

.
\end_layout

\begin_layout Subsection
Składowe harmoniczne
\begin_inset CommandInset label
LatexCommand label
name "subsec:Dirichlet"

\end_inset


\end_layout

\begin_layout Standard
Jeżeli sygnał okresowy przedstawiany jest funkcją, która spełnia warunki
 Dirichleta, to znaczy:
\end_layout

\begin_layout Itemize
w dowolnym przedziale czasu równym okresowi posiada skończoną liczbę minimów
 i maksimów lokalnych,
\end_layout

\begin_layout Itemize
w tym przedziale czasu jest ciągła, z wyjątkiem skończonej liczby punktów
 nieciągłości, w której istnieją jej prawo- i lewostronne granice,
\end_layout

\begin_layout Itemize
wartości funkcji w punktach nieciągłości są równe wartościom średniej arytmetycz
nej granic prawo- i lewostronnych w tych punktach,
\end_layout

\begin_layout Standard
to można go przedstawić za pomocą szeregu trygonometrycznego Fouriera(
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:1"

\end_inset

): 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
f(t)=a_{0}+\stackrel[n=1]{\infty}{\sum}(a_{n}cos\,n\omega t+b_{n}sin\,n\omega t)=A_{0}+\stackrel[n=1]{\infty}{\sum}A_{n}cos(n\omega t+\varphi_{n})\label{eq:1}
\end{equation}

\end_inset

gdzie:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $A_{0}$
\end_inset

 – składowa stała,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $\omega=2\pi f$
\end_inset

 – pulsacja podstawowej harmonicznej,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $A_{n}$
\end_inset

 – amplituda n-tej harmonicznej,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $\varphi_{n}$
\end_inset

 – faza n-tej harmonicznej.
\end_layout

\begin_layout Standard
Wartość amplitud harmonicznych w funkcji częstotliwości nazywamy widmem
 sygnału.
 Prezentacja sygnału w funkcji częstotliwości jest równoważna z prezentacją
 jej w funkcji czasu.
\end_layout

\begin_layout Subsection
Parametry sygnałów
\begin_inset CommandInset label
LatexCommand label
name "subsec:Parametry-sygnałów"

\end_inset


\end_layout

\begin_layout Standard
W opisie sygnałów okresowych można wyróżnić kilka ich podstawowych wartości
\begin_inset CommandInset citation
LatexCommand cite
key "ŁšczaTelekomunikacyjne"

\end_inset

:
\end_layout

\begin_layout Itemize
wartość chwilową (w chwili czasu 
\begin_inset Formula $\tau$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
F_{\tau}=f(\tau)
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość szczytową 
\begin_inset Formula 
\begin{equation}
F_{m}=\underset{t\in[t_{0},\:t_{0}+T]}{\sup}f(t)
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
wartość średnią 
\begin_inset Formula 
\begin{equation}
F_{śr}=A_{0}=\frac{1}{T}\stackrel[t_{0}]{t_{0}+T}{\int}f(t)dt
\end{equation}

\end_inset

Jeśli 
\begin_inset Formula $A_{0}=0$
\end_inset

, to sygnał nazywamy przemiennym;
\end_layout

\begin_layout Itemize
wartość skuteczną (RMS) 
\begin_inset Formula 
\begin{equation}
F_{sk}=F=\sqrt{\frac{1}{T}\stackrel[t_{0}]{t_{0}+T}{\int}f^{2}(t)dt}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Wykorzystując powyższe wartości wprowadzono szereg współczynników ułatwiających
 ocenę parametrów sygnału.
 Najważniejsze z nich to:
\end_layout

\begin_layout Itemize
współczynnik kształtu 
\begin_inset Formula 
\begin{equation}
k_{k}=\frac{F}{F_{śr}}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
współczynnik szczytu 
\begin_inset Formula 
\begin{equation}
k_{s}=\frac{F_{m}}{F}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
współczynnik wypełnienia 
\begin_inset Formula 
\begin{equation}
k_{w}=\frac{F_{śr}}{F_{m}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Współczynniki najważniejszych sygnałów są stabelaryzowane, można więc na
 ich podstawie np.
 wyznaczyć wartość skuteczną i maksymalną danego sygnału znając jego kształt
 i wartość średnią.
\end_layout

\begin_layout Section
Transformata Fouriera
\end_layout

\begin_layout Subsection
Dyskretna transformata Fouriera
\end_layout

\begin_layout Standard
Transformata Fouriera jest niezwykle istotnym narzędziem matematycznym,
 pozwalającym na analizę częstotliwościową sygnałów.
 Dla sygnałów ciągłych przyjmuje ona postać następującej całki:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
X(f)=\stackrel[-\infty]{\infty}{\int}x(t)e^{-j2\pi ft}dt
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
gdzie x(t) jest sygnałem ciągłym w dziedzinie czasu.
 Przekształcenie to umożliwia przejście ciągłej w dziedzinie czasu funkcji
 x(t) w ciągłą w dziedzinie częstotliwości funkcję X(t), przy czym obie
 z nich są równoważnym opisem tego samego sygnału.
 
\end_layout

\begin_layout Standard
Jeśli sygnał x(t) zostanie spróbkowany równomiernie w dziedzinie czasu,
 można go poddać dyskretnemu przekształceniu Fouriera: 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
X(m)=\stackrel[n=0]{N-1}{\sum}x(n)e^{-j2\pi\frac{nm}{N}}\label{eq:DFT}
\end{equation}

\end_inset

gdzie x(n) jest ciągiem próbek sygnału x(t).
 Równanie (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:DFT"

\end_inset

) może w bardzo prosty sposób zostać numerycznie zaimplementowane na dowolnym
 procesorze, co umożliwia błyskawiczną analizę częstotliwościową dowolnego
 sygnału.
\end_layout

\begin_layout Standard
Na wykresie (Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:pokazDFT"

\end_inset

) przedstawiono przykładowy sygnał spróbkowany w dziedzinie czasu oraz jego
 widmo częstotliwościowe otrzymane z DFT.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/PokazDFT.eps
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Spróbkowany sygnał ciągły oraz jego widmo częstotliwościowe
\begin_inset CommandInset label
LatexCommand label
name "fig:pokazDFT"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Własności DFT
\end_layout

\begin_layout Standard
Dyskretna transformata Fouriera posiada kilka istotnych własności i zagadnień,
 o których należy tutaj wspomnieć.
 Są to:
\end_layout

\begin_layout Itemize
symetria,
\end_layout

\begin_layout Itemize
liniowość,
\end_layout

\begin_layout Itemize
rozdzielczość,
\end_layout

\begin_layout Itemize
przeciek.
\end_layout

\begin_layout Subsubsection
Symetria
\end_layout

\begin_layout Standard
Jeśli x(n) jest ciągiem rzeczywistym (jego części urojone są równe zeru)
 o liczbie elementów równej N to dla wartości wyjściowej jego DFT zachodzi
 zależność:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
|X(m)|=|X(N-m)|\label{eq:SymetriaDFT}
\end{equation}

\end_inset

Oznacza to, że widmo częstotliwościowe jest symetryczne względem jego środka,
 czyli względem połowy częstotliwości próbkowania sygnału (patrz: 
\begin_inset CommandInset ref
LatexCommand nameref
reference "subsec:Rozdzielczość-DFT"

\end_inset

).
 W związku z tym wartości dla argumentów 
\begin_inset Formula $m\geq(N/2)$
\end_inset

 są nadmiarowe w stosunku do wartości dla argumentów od 
\begin_inset Formula $m=0$
\end_inset

 do 
\begin_inset Formula $m=(N/2)-1$
\end_inset


\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

 i nie wnoszą żadnych dodatkowych informacji.
 Na rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Symetria-DFT"

\end_inset

 przedstawiono pełne widmo sygnału z rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:pokazDFT"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/SymetriaDFT.eps
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Symetria DFT.
 Prążki dla m = 28 i 31 są kopią prążków dla m = 1 i 4.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Symetria-DFT"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Liniowość
\end_layout

\begin_layout Standard
Liniowość jest własnością DFT, która mówi, że DFT sumy dwóch sygnałów jest
 równa sumie transformat każdego z nich 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

, to znaczy transformata sygnału 
\begin_inset Formula $x_{sum}(n)=x_{1}(n)+x_{2}(n)$
\end_inset

 jest równa 
\begin_inset Formula $X_{sum}(m)=X_{1}(m)+X_{2}(m)$
\end_inset

.
 Dzięki tej własności możliwe jest wyznaczanie DFT sygnału składającego
 się z sumy dowolnej liczby sinusoid.
\end_layout

\begin_layout Subsubsection
Rozdzielczość DFT
\begin_inset CommandInset label
LatexCommand label
name "subsec:Rozdzielczość-DFT"

\end_inset


\end_layout

\begin_layout Standard
Aby wyznaczyć rzeczywistą wartość częstotliwości dla danego prążka DFT należy
 posłużyć się wzorem:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
f(m)=\frac{mf_{s}}{N}
\end{equation}

\end_inset

 gdzie 
\begin_inset Formula $f_{s}$
\end_inset

 to częstotliwość próbkowania, a 
\begin_inset Formula $N$
\end_inset

 to liczba próbek.
 Zatem rozdzielczość DFT, czyli dokładność z jaką możemy zbadać widmo sygnału
 wynosi 
\begin_inset Formula 
\begin{equation}
\Delta f=\frac{f_{s}}{N}
\end{equation}

\end_inset

 Wynika stąd, że chcąc poprawić dokładność analizy częstotliwościowej powinniśmy
 zwiększyć liczbę pobieranych próbek.
 Niestety, prowadzi to do wzrostu zużycia pamięci i znacznego wydłużenia
 czasu obliczeń, niezbędne jest więc znalezienie złotego środka między rozdzielc
zością a możliwościami sprzętu.
\end_layout

\begin_layout Subsubsection
Przeciek DFT
\end_layout

\begin_layout Standard
Dyskretna transformata Fouriera operuje na skończonych zbiorach 
\begin_inset Formula $N$
\end_inset

 wartości wejściowych, próbkowanych z częstotliwością 
\begin_inset Formula $f_{s}$
\end_inset

, dając w wyniku N-punktową transformatę, której dyskretne wartości wyjściowe
 są związane z całkowitymi wielokrotnościami częstotliwości 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

.
 Jeśli jednak sygnał wejściowy zawiera składową o częstotliwości będącej
 niecałkowitą wielokrotnością 
\begin_inset Formula $\frac{f_{s}}{N}$
\end_inset

, to energia tej składowej ujawni się we wszystkich prążkach DFT
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

.
 To niekorzystne zjawisko nazywane jest przeciekiem DFT i prowadzi do przekłaman
ia wyników analizy częstotliwościowej.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/PrzeciekDFT.eps

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Prezentacja zjawiska przecieku DFT
\begin_inset CommandInset label
LatexCommand label
name "fig:Przeciek"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ponieważ w przyrodzie nie istnieją sygnały czysto poliharmoniczne, zjawisko
 przecieku jest nieuniknione.
 Można je jednak minimalizować poprzez dostosowywanie częstotliwości próbkowania
 do podstawowej składowej sygnału oraz wykorzystywanie funkcji okien, które
 niwelują przeciek przez zmniejszanie amplitudy sygnału przy jego brzegach.
 
\end_layout

\begin_layout Subsection
Szybka transformata Fouriera
\end_layout

\begin_layout Standard
Najbardziej czasochłonnym dla procesora etapem wyznaczania DFT jest wykonywanie
 licznych mnożeń na liczbach zespolonych.
 Ilość tych operacji wynosi 
\begin_inset Formula $N^{2}$
\end_inset

, co przy wzrastającej liczbie próbek prowadzi do bardzo znacznego wydłużenia
 czasu obliczeń.
 Aby choć trochę zniwelować ten przyrost opracowane zostały algorytmy szybkiej
 transformaty Fouriera (FFT - Fast Fourier Transformation), z których najpopular
niejszym jest Radix-2.
 Wykorzystuje on własności DFT, takie jak symetria i liniowość, do podzielenia
 N-punktowego DFT na szereg 2-punktowych DFT, co znacząco zmniejsza liczbę
 wymaganych mnożeń do 
\begin_inset Formula $\frac{N}{2}log_{2}N$
\end_inset

 
\begin_inset CommandInset citation
LatexCommand cite
key "Lyons"

\end_inset

.
 Różnicę tę przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Porównanie-liczby-mnożeń"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/DFTaFFT.eps

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Porównanie liczby mnożeń zespolonych dla klasycznego DFT i algorytmu Radix-2
\begin_inset CommandInset label
LatexCommand label
name "fig:Porównanie-liczby-mnożeń"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset

Jak widać, różnica znacząco się powiększa ze wzrostem liczby próbek i dla
 2048-punktowego FFT musimy wykonać prawie 700 razy mniej mnożeń zespolonych
 niż w przypadku klasycznego DFT.
 Należy zaznaczyć, że wynik FFT jest identyczny z wynikiem klasycznego DFT,
 zmianie ulega jedynie szybkość obliczeń.
 
\end_layout

\begin_layout Standard
Istotną cechą algorytmu Radix-2 jest fakt, że liczba próbek wejściowych
 musi być równa 
\begin_inset Formula $2^{k}$
\end_inset

, gdzie 
\begin_inset Formula $k$
\end_inset

 jest liczbą naturalną.
 Wymusza to odpowiedni dobór częstotliwości próbkowania w celu otrzymania
 pożądanej rozdzielczości.
\end_layout

\begin_layout Section
Definicja THD
\end_layout

\begin_layout Subsection
Współczynnik zawartości harmonicznych i całkowity współczynnik odkształceń
 harmonicznych
\end_layout

\begin_layout Standard
Poza współczynnikami podanymi w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Parametry-sygnałów"

\end_inset

 bardzo ważną wielkością opisującą sygnał okresowy jest jego współczynnik
 zawartości harmonicznych 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
h=\sqrt{\frac{\stackrel[n=2]{\infty}{\sum}A_{n}^{2}}{\stackrel[n=1]{\infty}{\sum}A_{n}^{2}}}\label{eq:h}
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $A_{n}$
\end_inset

jest amplitudą n-tej harmonicznej sygnału.
 Współczynnik ten określa odkształcenie sygnału względem 
\begin_inset Quotes pld
\end_inset

czystej
\begin_inset Quotes prd
\end_inset

 sinusoidy.
 Jest on szczególnie istotny w telekomunikacji i przetwarzaniu audio.
\end_layout

\begin_layout Standard
W elektroenergetyce chętniej używa się jednak podobnego współczynnika nazywanego
 całkowitym współczynnikiem odkształceń harmonicznych (ang.
 THD - total harmonic distortion) wyrażanego wzorem:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
THD=\sqrt{\frac{\stackrel[n=2]{\infty}{\sum}A_{n}^{2}}{A_{1}^{2}}}\label{eq:THD}
\end{equation}

\end_inset

 Pomiędzy tymi dwoma współczynnikami występuje zależność 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
THD=\frac{1}{\sqrt{1-h^{2}}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
THD jest jednym z najistotniejszych parametrów określających jakość energii
 elektrycznej w systemie elektroenergetycznym.
 Odkształcenia harmoniczne są w nim generowane przez odbiorniki o nieliniowym
 poborze prądu, takie jak prostowniki, zasilacze impulsowe, falowniki, ściemniac
ze czy sterowniki LED.
 Wysoka zawartość harmonicznych może być bardzo szkodliwa dla urządzeń elektrycz
nych, w szczególności dla silników indukcyjnych.
\end_layout

\begin_layout Subsection
THD a jakość energii elektrycznej
\end_layout

\begin_layout Section
Przetwornik analogowo - cyfrowy
\end_layout

\begin_layout Standard
Przetwornik analogowo-cyfrowy jest urządzeniem umożliwiającym konwersję
 sygnałów analogowych do postaci cyfrowej.
 Pozwala to na o wiele szybszą ich analizę i przetwarzanie przy użyciu wyspecjal
izowanych procesorów, a także na wygodne przechowywanie danych pomiarowych.
\end_layout

\begin_layout Subsection
Etapy procesu przetwarzania analogowo - cyfrowego
\end_layout

\begin_layout Standard
W procesie przetwarzania analogowo - cyfrowego można wyodrębnić trzy główne
 etapy: próbkowanie, kwantowanie i kodowanie.
\end_layout

\begin_layout Subsubsection
Próbkowanie
\end_layout

\begin_layout Standard
Próbkowaniem sygnału nazywa się operację pobierania chwilowych wartości
 tego sygnału w określonych, najczęściej równomiernych, momentach czasu.
 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset

 Polega ono na zatrzaskiwaniu wartości chwilowych w tzw.
 układzie próbkująco - pamiętającym (Sample and Hold) z częstotliwością
 nazywaną częstotliwością próbkowania.
 Wielkość ta determinuje szerokość pasma sygnału który może zostać prawidłowo
 spróbkowany (patrz punkt 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Twierdzenie-o-próbkowaniu"

\end_inset

).
 Elementem pamiętającym jest najczęściej kondensator oddzielony od reszty
 układu z jednej strony kluczem, a z drugiej wtórnikiem napięciowym (rys.
 XXX).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Sample and Hold.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Układ Sample and Hold
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Kwantowanie 
\end_layout

\begin_layout Subsubsection
Kodowanie
\end_layout

\begin_layout Subsection
Błędy przetwarzania
\end_layout

\begin_layout Section
Filtr antyaliasingowy
\end_layout

\begin_layout Subsection
Twierdzenie o próbkowaniu i definicja aliasingu 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Twierdzenie-o-próbkowaniu"

\end_inset


\end_layout

\begin_layout Standard
W celu poprawnego odtworzenia spróbkowanego sygnału niezbędne jest pobranie
 odpowiedniej liczby próbek w jednostce czasu.
 Jest ona definiowana przez twierdzenie Kotielnikowa-Shannona (inaczej twierdzen
ie o próbkowaniu), które mówi, że odtworzenie sygnału z ciągu próbek bez
 utraty informacji jest możliwe, jeśli: 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Itemize
funkcja opisująca sygnał spełnia warunki Dirichleta (patrz rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Dirichlet"

\end_inset

),
\end_layout

\begin_layout Itemize
funkcja opisująca sygnał jest ściśle dolnopasmowa - jej widmo jest ograniczone
 od góry częstotliwością 
\begin_inset Formula $f_{g}$
\end_inset

,
\end_layout

\begin_layout Itemize
sygnał jest próbkowany z częstotliwością 
\begin_inset Formula $f_{s}\geq2f_{g}$
\end_inset

.
\end_layout

\begin_layout Standard
Częstotliwość 
\begin_inset Formula $2f_{g}$
\end_inset

jest nazywana częstotliwością Nyquista.
 Jest to minimalna częstotliwość z jaką należy próbkować sygnał, jednak
 w praktyce używa się częstotliwości w granicach 
\begin_inset Formula $5-10f_{g}$
\end_inset

w celu poprawnego odwzorowania kształtu sygnału.
\end_layout

\begin_layout Standard
Jeśli twierdzenie o próbkowaniu nie zostanie spełnione, może dojść do zjawiska
 aliasingu, czyli nakładania się na siebie widm spróbkowanego sygnału.
 Wskazuje na to zjawisko symetrii DFT: jeśli w widmie sygnału pojawi się
 prążek, którego 
\begin_inset Formula $m>N/2$
\end_inset

, to zgodnie z równaniem (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:SymetriaDFT"

\end_inset

) nie da się określić, czy odpowiada on częstotliwości 
\begin_inset Formula $f(m)$
\end_inset

 czy 
\begin_inset Formula $f(N-m)$
\end_inset

, co doprowadzi do niejednoznaczności w odtworzeniu sygnału.
 
\end_layout

\begin_layout Standard
W celu zapobiegnięcia efektowi aliasingu na wejściu przetwornika A/C należy
 zastosować tzw.
 filtr antyaliasingowy, który zapewni, że próbkowany sygnał będzie ściśle
 dolnopasmowy, oraz pozwoli prawidłowo dobrać częstotliwość próbkowania.
\end_layout

\begin_layout Subsection
Filtry aktywne
\end_layout

\begin_layout Standard
W roli filtrów antyaliasingowych szczególnie chętnie wykorzystywane są filtry
 aktywne RC.
 Są to układy oparte na wzmacniaczach operacyjnych, które w porównaniu do
 filtrów pasywnych RLC zapewniają większą stabilność, dokładność, umożliwiają
 wzmocnienie sygnału wejściowego w paśmie przenoszenia oraz mają lepsze
 tłumienie w paśmie zaporowym.
 Dodatkowo pozwalają one na budowę filtrów wysokich rzędów bez użycia dużych
 elementów indukcyjnych.
 
\begin_inset CommandInset citation
LatexCommand cite
key "FiltryAktywnePL"

\end_inset


\end_layout

\begin_layout Standard
Jedną z popularnych topologii budowy filtrów aktywnych jest tak zwana topologia
 wielokrotnych sprzężeń zwrotnych (Multiple Feedback).Zapewnia ona bardzo
 dobre tłumienie w paśmie zaporowym dla szerokiego zakresu częstotliwości
 oraz bardzo niskie szumy i wysokie tłumienie składowej stałej (CMRR) 
\begin_inset CommandInset citation
LatexCommand cite
key "TI_MFBFilter"

\end_inset

.
 Schemat filtra dolnopasmowego 2.
 rzędu w topologii MFB przedstawiono na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Aktywny-filtr-dolnopasmowy"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/MFB.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Aktywny filtr dolnopasmowy w topologii MFB
\begin_inset CommandInset label
LatexCommand label
name "fig:Aktywny-filtr-dolnopasmowy"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Poprzez odpowiedni dobór wartości komponentów pasywnych filtra można znacznie
 modyfikować jego parametry.
 Powstało wiele ustandaryzowanych typów filtrów aktywnych, z których najpopularn
iejsze to: 
\begin_inset CommandInset citation
LatexCommand cite
key "FiltryAktywneWFiIS"

\end_inset


\end_layout

\begin_layout Itemize
filtr Butterwortha - zapewnia płaską charakterystykę amplitudową w paśmie
 przenoszenia,
\end_layout

\begin_layout Itemize
filtr Chebysheva - zapewnia znaczne tłumienie w paśmie zaporowym kosztem
 oscylacji charakterystyki amplitudowej w paśmie przenoszenia,
\end_layout

\begin_layout Itemize
filtr Bessela - zapewnia liniową charakterystykę fazową w paśmie przenoszenia
 kosztem gorszego tłumienia w paśmie zaporowym.
\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Charakterystyki-Bodego-różnych"

\end_inset

 przedstawia porównanie charakterystyk powyższych filtrów dla filtra dolnopasmow
ego 4.
 rzędu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Wykresy/Filtry.eps
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Charakterystyki Bodego różnych typów filtrów aktywnych 
\begin_inset CommandInset label
LatexCommand label
name "fig:Charakterystyki-Bodego-różnych"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Filtry w technologii SC
\end_layout

\begin_layout Standard
Wadą analogowych filtrów aktywnych jest duża liczba niezbędnych komponentów,
 zwłaszcza przy wyższych rzędach filtra.
 Filtr 8.
 rzędu w konfiguracji MFB wymaga użycia 4 wzmacniaczy, 12 rezystorów i 8
 kondensatorów.
 Układ taki złożony z elementów dyskretnych zajmowałby bardzo dużą powierzchnię
 i byłby silnie narażony na tolerancję elementów.
 Rozwiązaniem w takich przypadkach może być zastosowanie techniki Switched
 Capacitor.
\end_layout

\begin_layout Standard
W układach SC rezystory zostały zastąpione przez odpowiednio kluczowane
 kondensatory.
 Rozważmy układ z rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Układ-przełączanego-kondensatora"

\end_inset

.
 Przy przełączeniu klucza z potencjału 
\begin_inset Formula $V_{1}$
\end_inset

 na 
\begin_inset Formula $V_{2}$
\end_inset

 kondensator ulega przeładowaniu, a zmiana ładunku na jego okładkach wynosi:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\Delta Q=C(V_{1}-V_{2})=C\Delta V
\end{equation}

\end_inset

Zakładając, że klucz będą załączany 2-fazowo z częstotliwością 
\begin_inset Formula $f_{p}$
\end_inset

, średni prąd 
\begin_inset Formula $i$
\end_inset

 wyniesie:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
i=\Delta Qf_{p}=C(V_{1}-V_{2})f_{p}=C\Delta Vf_{p}
\end{equation}

\end_inset

co możemy przełożyć na ekwiwalentną rezystancję:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
R=\frac{\Delta V}{i}=\frac{1}{Cf_{p}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/SC.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Układ przełączanego kondensatora 
\begin_inset CommandInset label
LatexCommand label
name "fig:Układ-przełączanego-kondensatora"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Wykorzystując powyższą zależność można łatwo projektować filtry wysokich
 rzędów w technologii CMOS.
 Dodatkową zaletą takich układów scalonych jest możliwość regulacji częstotliwoś
ci granicznej filtra przez prostą zmianę częstotliwości sygnału zegarowego.
 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować5"

\end_inset


\end_layout

\begin_layout Standard
Pewną wadą filtrów SC jest fakt, że sygnał zegarowy sterujący kluczami przechodz
i do sygnału wyjściowego filtra jako zakłócenie.
 Jeśli częstotliwość zegara będzie odpowiednio większa od częstotliwości
 granicznej (w praktyce najczęściej stosuje się proporcję 100:1), to można
 sobie z tym faktem poradzić umieszczając na wyjściu filtra SC dodatkowy
 filtr 1.
 lub 2.
 rzędu.
 Konieczność podawania tak szybkiego zegara ogranicza jednak użyteczne pasmo
 takich filtrów do kilkudziesięciu kHz.
 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować5"

\end_inset


\end_layout

\begin_layout Subsection
Dobór parametrów filtra
\end_layout

\begin_layout Standard
Projektowanie filtra antyaliasingowego składa się zazwyczaj z kilku etapów.
 
\begin_inset CommandInset citation
LatexCommand cite
key "wartoSpróbkować2"

\end_inset


\end_layout

\begin_layout Standard
Pierwszym z nich jest ustalenie częstotliwości granicznej 
\begin_inset Formula $f_{g}$
\end_inset

, która powinna być maksymalną oczekiwaną częstotliwością użyteczną występującą
 w próbkowanym sygnale.
 W praktyce jednak dla częstotliwości granicznej tłumienie filtra wynosi
 już 3 dB, zatem powinna ona być ustalona nieco dalej.
\end_layout

\begin_layout Standard
Następnie należy ustalić częstotliwość próbkowania przetwornika 
\begin_inset Formula $f_{s}$
\end_inset

, oraz powiązaną z nią częstotliwość końcową filtra 
\begin_inset Formula $f_{stop}$
\end_inset

.
 Częstotliwość końcowa jest częstotliwością, dla której tłumienie filtra
 jest równe zakresowi dynamiki przetwornika 
\begin_inset Formula $Z_{D}$
\end_inset

:
\begin_inset Formula 
\begin{equation}
Z_{D}=6,02n\;[dB],
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $n$
\end_inset

 jest rozdzielczością przetwornika wyrażoną w bitach.
 Częstotliwość próbkowania zaś musi być od niej co najmniej dwukrotnie większa.
\end_layout

\begin_layout Standard
Kolejnym krokiem jest ustalenie wymaganego rzędu filtra 
\begin_inset Formula $M$
\end_inset

.
 Oblicza się go korzystając z wzoru: 
\begin_inset Formula 
\begin{equation}
M=\frac{Z_{D}}{6log_{2}(\frac{f_{p}}{2f_{gr}})}
\end{equation}

\end_inset

Filtry do 4.
 rzędu można łatwo wykonać z elementów dyskretnych, zaś filtry scalone SC
 są ogólnodostępne dla rzędów od 8.
 do 10.
 Jeśli okaże się, że niezbędny będzie filtr wyższego rzędu, należy rozważyć
 zwiększenie częstotliwości próbkowania, bądź zmniejszenie częstotliwości
 granicznej filtra albo rozdzielczości przetwornika A/C.
\end_layout

\begin_layout Standard
Ostatnim etapem jest wybranie konkretnej topologii filtra oraz policzenie
 wartości jego elementów, w czym niezwykle pomocne są dedykowane programy
 komputerowe.
\end_layout

\begin_layout Chapter
Przegląd istniejących rozwiązań
\end_layout

\begin_layout Section
Analogowe mierniki współczynnika zawartości harmonicznych
\end_layout

\begin_layout Standard
Analogowe mierniki współczynnika zawartości harmonicznych działały bezpośrednio
 na podstawie wzoru (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:h"

\end_inset

).
 Ich zasada działania polegała na pomiarze wartości skutecznej sygnału,
 następnie odfiltrowaniu podstawowej harmonicznej i ponownym pomiarze wartości
 skutecznej.
 Bezpośrednie porównanie tych dwóch wartości dawało wartość współczynnika
 
\begin_inset Formula $h$
\end_inset

.
 
\end_layout

\begin_layout Standard
Układ taki, przedstawiony na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Analogowy-miernik-współczynnika"

\end_inset

, składał się z tłumika oraz wzmacniacza kondycjonujących wstępnie sygnał,
 za którymi znajdował się pierwszy woltomierz wartości skutecznej.
 Drugim ogniwem układu był filtr selektywny u bardzo wysokiej dobroci, za
 którym umieszczony był drugi woltomierz.
 Filtr dostrajano tak, aby wskazanie woltomierza 
\begin_inset Formula $V_{2}$
\end_inset

 osiągnęło minimum, co świadczyło o odfiltrowaniu składowej podstawowej.
 Wartość współczynnika 
\begin_inset Formula $h$
\end_inset

 wyznaczano następnie korzystając z zależności:
\begin_inset Formula 
\begin{equation}
h=k\frac{U_{V2}}{U_{V1}}
\end{equation}

\end_inset

gdzie 
\begin_inset Formula $k$
\end_inset

 jest współczynnikiem wynikającym z charakterystyki filtra.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Analogowy miernik h.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Analogowy miernik współczynnika zawartości harmonicznych
\begin_inset CommandInset label
LatexCommand label
name "fig:Analogowy-miernik-współczynnika"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Jako filtrów selektywnych używano najczęściej układów mostkowych o regulowanej
 częstotliwości rezonansowej, takich jak mostek Robinsona-Wiena.
 
\begin_inset CommandInset citation
LatexCommand cite
key "metro"

\end_inset


\end_layout

\begin_layout Section
Analogowe analizatory widma 
\end_layout

\begin_layout Standard
Kolejną generacją mierników pozwalających na analizę zawartości wyższych
 harmonicznych w sygnale były analogowe analizatrory widma.
 Umożliwiały one graficzną prezentację poszczególnych prążków widma częstotliwoś
ciowego sygnału na ekranie oscyloskopu analogowego.
\end_layout

\begin_layout Standard
Na wejściu układu znajdował się mieszacz o częstotliwości różnicowej, do
 którego doprowadzano odpowiednio skondycjonowany sygnał badany oraz sygnał
 z przestrajanego generatora.
 Sygnał następnie był wzmacniany i filtrowany selektywnie, dzięki czemu
 otrzymywano informację o poszczególnych składowych sygnału.
 Na końcu sygnał był wzmacniany logarytmicznie w celu lepszego ukazania
 składowych o małych amplitudach i podawany na wejście oscyloskopu analogowego.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Analogowy miernik widma.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Analogowy analizator widma
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Analizatory cyfrowe
\end_layout

\begin_layout Standard
Rozwój mikroprocesorów i technik cyfrowego przetwarzania sygnałów doprowadził
 praktycznie do wyparcia analizatorów analogowych.
 Obecnie stosowane są o wiele tańsze i niejednokrotnie dokładniejsze analizatory
 cyfrowe, których działanie jest oparte o dyskretną transformatę Fouriera.
 Opierają się one na użyciu precyzyjnych przetworników analogowo-cyfrowych
 oraz procesorów sygnałowych, które pozwalają na błyskawiczne wyznaczenie
 praktycznie wszystkich parametrów sygnału.
\end_layout

\begin_layout Standard
Na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Cyfrowy-analizator-widma"

\end_inset

 przedstawiono schemat ideowy cyfrowego analizatora widma.
 Sygnał jest próbkowany przez odpowiedni czas i z odpowiednią prędkością,
 za co odpowiedzialny jest przetwornik A/C i sterujący nim procesor.
 Następnie próbki są przesyłane do procesora sygnałowego, gdzie wyznaczane
 jest jego widmo przy użyciu algorytmów FFT.
 Wykorzystując obliczone widmo można w prosty sposób obliczyć wartość współczynn
ika THD na podstawie definicji (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:THD"

\end_inset

).
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Obrazki/Schematy/cropped_Cyfrowy miernik widma.pdf

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ogólny schemat ideowy cyfrowego analizatora widma
\begin_inset CommandInset label
LatexCommand label
name "fig:Cyfrowy-analizator-widma"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ogromną zaletą rozwiązań cyfrowych jest fakt, że spróbkowany sygnał można
 bardzo szybko analizować pod kątem najróżniejszych czynników, wystarczy
 jedynie zaimplementować odpowiedni algorytm na procesorze sygnałowym.
 Producenci przyrządów pomiarowych, tacy jak Sonel, Fluke czy Shneider-Electric
 produkują cyfrowe analizatory pozwalające na wyznaczenie wszystkich wskaźników
 jakości energii elektrycznej, takich jak zawartość harmonicznych, napięcie
 skuteczne, częstotliwość, czy współczynnik migotania światła, oraz rejestrację
 zdarzeń takich jak zapady czy zaniki napięcia w sieci elektroenergetycznej.
 
\begin_inset CommandInset citation
LatexCommand cite
key "piknik"

\end_inset


\end_layout

\begin_layout Chapter
Analiza normy IEC 6100-4-30
\end_layout

\begin_layout Standard
Norma IEC 6100-4-30 opisuje metody pomiarów oraz sposoby implementacji przyrządó
w do pomiaru parametrów jakości energii elektrycznej w sieciach 50/60 Hz.
 Podane w niej są standardy pomiarów takich wielkości jak:
\end_layout

\begin_layout Itemize
częstotliwość,
\end_layout

\begin_layout Itemize
wartość skuteczna,
\end_layout

\begin_layout Itemize
współczynnik migotania światła,
\end_layout

\begin_layout Itemize
zapady i zaniki napięcia,
\end_layout

\begin_layout Itemize
asymetria napięcia,
\end_layout

\begin_layout Itemize
zawartość wyższych harmonicznych.
\end_layout

\begin_layout Standard
W niniejszej pracy omówione zostaną rozdziały dotyczące pomiaru zawartości
 wyższych harmonicznych oraz częstotliwości.
\end_layout

\begin_layout Section
Klasy przyrządów
\end_layout

\begin_layout Section
Wymagania dotyczące pomiaru częstotliwości 
\end_layout

\begin_layout Subsection
Metoda pomiaru
\end_layout

\begin_layout Subsubsection
Klasa A
\end_layout

\begin_layout Standard
Odczyt częstotliwości powinien być dokonywany co 10 sekund.
 Metoda pomiaru polega na zliczaniu pełnych okresów w 10-sekundowym oknie,
 a następnie przedzieleniu ich liczby przez dokładny czas ich trwania.
 W metodzie zliczania przejść przez zero sygnał powinien być przefiltrowany
 w celu uniknięcia fałszywych zliczeń.
 Okna pomiarowe nie powinny na siebie w żaden sposób zachodzić.
\end_layout

\begin_layout Subsubsection
Klasa S
\end_layout

\begin_layout Standard
Dla klasy S wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Subsection
Niepewność i zakres pomiaru
\end_layout

\begin_layout Subsubsection
Klasa A
\end_layout

\begin_layout Standard
Niepewność pomiaru częstotliwości nie powinna przekraczać 
\begin_inset Formula $\pm$
\end_inset

10 mHz w zakresie od 42,5 do 57,5 Hz dla częstotliwości oczekiwanej 50 Hz
 oraz w zakresie od 51 do 69 Hz dla częstotliwości oczekiwanej 60 Hz.
\end_layout

\begin_layout Subsubsection
Klasa S
\end_layout

\begin_layout Standard
Niepewność pomiaru częstotliwości nie powinna przekraczać 
\begin_inset Formula $\pm$
\end_inset

50 mHz w zakresie od 42,5 do 57,5 Hz dla częstotliwości oczekiwanej 50 Hz
 oraz w zakresie od 51 do 69 Hz dla częstotliwości oczekiwanej 60 Hz.
\end_layout

\begin_layout Subsection
Ewaluacja pomiaru
\end_layout

\begin_layout Subsubsection
Klasa A
\end_layout

\begin_layout Standard
Pomiar porównawczy powinien być wykonany na kanale referencyjnym.
 Producent przyrządu musi określić sposób postępowania w razie utraty sygnału
 na kanale referencyjnym.
\end_layout

\begin_layout Subsubsection
Klasa S
\end_layout

\begin_layout Standard
Dla klasy S wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Section
Definicje dotyczące harmonicznych i współczynników odkształcenia
\end_layout

\begin_layout Standard
Poniższe definicje pochodzą bezpośrednio z normy PN-EN 6100-4-7.
\end_layout

\begin_layout Subsubsection*
Częstotliwość harmonicznej 
\begin_inset Formula $f_{n}$
\end_inset


\end_layout

\begin_layout Standard
Częstotliwość będąca całkowitą krotnością częstotliwości sieci zasilającej.
\end_layout

\begin_layout Subsubsection*
Rząd harmonicznej 
\begin_inset Formula $n$
\end_inset


\end_layout

\begin_layout Standard
Całkowity stosunek częstotliwości harmonicznej do częstotliwości sieci zasilając
ej.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna składowej harmonicznej 
\begin_inset Formula $G_{n}$
\end_inset


\end_layout

\begin_layout Standard
Wartość skuteczna jednej ze składowych o częstotliwości harmonicznej w analizie
 przebiegu niesinusoidalnego.
 Dla uproszczenia, taką składową można skrótowo nazwać 
\begin_inset Quotes pld
\end_inset

harmoniczną
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna grupy harmonicznej 
\begin_inset Formula $G_{g,n}$
\end_inset


\end_layout

\begin_layout Standard
Pierwiastek kwadratowy z sumy kwadratów wartości skutecznej harmonicznej
 i sąsiadujących z nią składowych widmowych wyznaczonym w oknie czasowym.
 Jest to suma energii harmonicznej oraz energii sąsiednich linii.
 Rząd harmoniczny jest określany przez rozważaną harmoniczną.
\end_layout

\begin_layout Subsubsection*
Wartość skuteczna podgrupy harmonicznej 
\begin_inset Formula $G_{sg,n}$
\end_inset


\end_layout

\begin_layout Standard
Pierwiastek kwadratowy z sumy kwadratów skutecznych wartości harmonicznej
 i dwóch bezpośrednio z nią sąsiadujących składowych widmowych.
 W celu uwzględnienia wahań napięcia występujących podczas pomiaru podgrupa
 składowych wyjściowych DFT jest otrzymywana w efekcie sumowania energii
 składowych o częstotliwościach bezpośrednio sąsiadujących z daną harmoniczną
 i energii tej harmonicznej.
 rząd harmoniczny jest określany za pomocą rozważanej harmonicznej.
\end_layout

\begin_layout Subsubsection*
Całkowity współczynnik odkształcenia 
\begin_inset Formula $THD$
\end_inset


\end_layout

\begin_layout Standard
Stosunek skutecznej wartości sumy wszystkich składowych harmonicznych (
\begin_inset Formula $G_{n}$
\end_inset

), sumowanych do określonego rzędu (
\begin_inset Formula $H$
\end_inset

), do skutecznej wartości składowej podstawowej (
\begin_inset Formula $G_{1}$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
THD=\sqrt{\stackrel[n=2]{H}{\sum}(\frac{G_{n}}{G_{1}})^{2}}\label{eq:THD-PN-EN}
\end{equation}

\end_inset


\end_layout

\begin_layout Subsubsection*
Całkowity współczynnik odkształcenia podgrup harmonicznych 
\begin_inset Formula $THDS$
\end_inset


\end_layout

\begin_layout Standard
Stosunek skutecznej wartości podgrup harmonicznych (
\begin_inset Formula $G_{sgn}$
\end_inset

) do skutecznej wartości podgrupy związanej ze składową podstawową (
\begin_inset Formula $G_{sg1}$
\end_inset

) 
\begin_inset Formula 
\begin{equation}
THDS=\sqrt{\stackrel[n=2]{H}{\sum}(\frac{G_{sgn}}{G_{sg1}})^{2}}\label{eq:THDS}
\end{equation}

\end_inset


\end_layout

\begin_layout Section
Wymagania dotyczące pomiaru harmonicznych
\end_layout

\begin_layout Subsection
Metoda pomiaru
\end_layout

\begin_layout Subsubsection
Klasa A
\end_layout

\begin_layout Standard
Główny przyrząd powinien zawierać:
\end_layout

\begin_layout Itemize
obwody wejściowe z filtrem antyaliasingowym,
\end_layout

\begin_layout Itemize
przetwornik analogowo-cyfrowy,
\end_layout

\begin_layout Itemize
jednostkę synchronizującą (jeśli jest wymagana),
\end_layout

\begin_layout Itemize
procesor DFT
\end_layout

\begin_layout Standard
Szerokość okna pomiarowego powinna wynosić 10 (dla systemów 50 Hz) lub 12
 (dla systemów 60 Hz) pełnych okresów sygnału.
\end_layout

\begin_layout Standard
Próbki powinny być ważone oknem prostokątnym.
 W przypadku utraty synchronizacji możliwe jest użycie okna Hanninga, musi
 to jednak zostać zasygnalizowane.
\end_layout

\begin_layout Standard
Okno czasowe powinno być zsynchronizowane z każdą grupą 10 lub 12 okresów.
 Czas pomiędzy pierwszą a N+1.
 próbką powinien być równy czasowi trwania określonej liczby okresów napięcia
 w badanym systemie z maksymalnym błędem 
\begin_inset Formula $\pm$
\end_inset

0,03%.
\end_layout

\begin_layout Standard
Obwód wejściowy przyrządu powinien być przystosowany do zachowania charakterysty
ki przy napięciach wynoszących 1,2 napięcia maksymalnego sieci zasilającej.
\end_layout

\begin_layout Standard
Filtr antyaliasingowy powinien mieć tłumienie co najmniej 50 dB w paśmie
 zaporowym.
\end_layout

\begin_layout Standard
Współczynnik odkształcenia powinien być wyznaczony jako całkowity współczynnik
 odkształcenia podgrup harmonicznych dla H
\begin_inset Formula $\geq$
\end_inset

50.
\end_layout

\begin_layout Standard
Dla celów pomiarów jakości energii elektrycznej pomiar THD powinien trwać
 ciągle przez 150/180 okresów lub przez 10 minut.
 Przerwy w akwizycji nie są dozwolone.
\end_layout

\begin_layout Subsubsection
Klasa S
\end_layout

\begin_layout Standard
Współczynnik odkształcenia może być wyznaczony jako całkowity współczynnik
 odkształcenia podgrup harmonicznych lub jako całkowity współczynnik odkształcen
ia grup harmonicznych dla H
\begin_inset Formula $\geq$
\end_inset

40.
\end_layout

\begin_layout Standard
Pozostałe wymagania są takie same jak dla klasy A.
\end_layout

\begin_layout Subsection
Niepewność i zakres pomiaru
\end_layout

\begin_layout Subsubsection
Klasa A
\end_layout

\begin_layout Standard
Dokładność pomiaru każdej z harmonicznych powinna wynosić 
\begin_inset Formula $\pm5\%\:U_{m}$
\end_inset

 dla 
\begin_inset Formula $U_{m}\geq1\%\:U_{nom}$
\end_inset

 lub 
\begin_inset Formula $\pm0,05\%\:U_{nom}$
\end_inset

 dla 
\begin_inset Formula $U_{m}<1\%\:U_{nom}$
\end_inset

, gdzie 
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $U_{m}$
\end_inset

 - wartość mierzona,
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Formula $U_{nom}$
\end_inset

 - wartość znamionowa napięcia badanej sieci
\end_layout

\begin_layout Standard
Dokładność pomiaru THD nie jest sprecyzowana w normie.
\end_layout

\begin_layout Subsubsection
Klasa S
\end_layout

\begin_layout Standard
Dokładność pomiaru każdej z harmonicznych powinna wynosić 
\begin_inset Formula $\pm10\%\:U_{m}$
\end_inset

 dla 
\begin_inset Formula $U_{m}\geq3\%\:U_{nom}$
\end_inset

 lub 
\begin_inset Formula $\pm0,3\%\:U_{nom}$
\end_inset

 dla 
\begin_inset Formula $U_{m}<3\%\:U_{nom}$
\end_inset

.
 
\end_layout

\begin_layout Chapter
Implementacja przyrządu
\end_layout

\begin_layout Section
Założenia projektowe
\end_layout

\begin_layout Section
Użyte podzespoły
\end_layout

\begin_layout Subsection
Płytka rozwojowa FRDM-KL25Z
\end_layout

\begin_layout Subsection
Filtr antyaliasingowy - układ MAX295
\end_layout

\begin_layout Subsection
Pamięć zewnętrzna - układ 23LCV1024
\end_layout

\begin_layout Subsection
Wyświetlacz OLED SSD1306
\end_layout

\begin_layout Section
Projekt PCB
\end_layout

\begin_layout Standard
Pamięć RAM oraz obwody filtra antyaliasingowego zostały umieszczone na specjalni
e zaprojektowanej płytce PCB.
 Do przygotowania projektu wykorzystano program Altium Designer, zaś samą
 płytkę wykonano metodą termotransferu i wytrawiono w nadsiarczanie miedzi.
\end_layout

\begin_layout Subsection
Schemat 
\end_layout

\begin_layout Subsection
Layout
\end_layout

\begin_layout Section
Środowisko pracy
\end_layout

\begin_layout Subsection
Środowisko mbed
\end_layout

\begin_layout Subsection
Skrypty testowe
\end_layout

\begin_layout Section
Działanie przyrządu
\end_layout

\begin_layout Subsection
Algorytm ogólny
\end_layout

\begin_layout Subsection
Inicjalizacja
\end_layout

\begin_layout Subsection
Pomiar częstotliwości
\end_layout

\begin_layout Subsection
Próbkowanie
\end_layout

\begin_layout Subsection
DFT i wyznaczenie THD
\end_layout

\begin_layout Subsection
Prezentacja wyników
\end_layout

\begin_layout Chapter
Badanie parametrów przyrządu
\end_layout

\begin_layout Section
Symulacje
\end_layout

\begin_layout Subsection
Wpływ rozdzielczości przetwornika A/C na wynik pomiaru
\end_layout

\begin_layout Subsection
Wpływ precyzji częstotliwości próbkowania na wynik pomiaru
\end_layout

\begin_layout Section
Pomiary
\end_layout

\begin_layout Subsection
Badanie filtra antyaliasingowego
\end_layout

\begin_layout Subsection
Wpływ funkcji okna na wynik pomiaru
\end_layout

\begin_layout Subsection
Wpływ uśredniania na wynik pomiaru
\end_layout

\begin_layout Subsection
Porównanie z rozwiązaniami komercyjnymi
\end_layout

\begin_layout Chapter
Podsumowanie i wnioski
\end_layout

\begin_layout Chapter*
Załącznik A - Szczegółowe wyniki pomiarów
\end_layout

\begin_layout Chapter*
Załącznik B - Pliki nagłówkowe klas programu
\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
btprint "btPrintAll"
bibfiles "bibliografia"
options "bibtotoc,IEEEtran"

\end_inset


\end_layout

\end_body
\end_document
